"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[566],{2566:(e,o,t)=>{t.r(o),t.d(o,{default:()=>z});var n=t(2784),g=t(3691),r=t(1148),p=t(8243);function m(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,g,r=[],p=!0,m=!1;try{for(t=t.call(e);!(p=(n=t.next()).done)&&(r.push(n.value),!o||r.length!==o);p=!0);}catch(e){m=!0,g=e}finally{try{p||null==t.return||t.return()}finally{if(m)throw g}}return r}}(e,o)||function(e,o){if(e){if("string"==typeof e)return u(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,o):void 0}}(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,n=new Array(o);t<o;t++)n[t]=e[t];return n}function a(e){var o=e.keyDown,t=e.keyUp,g=m((0,n.useState)([]),2),r=g[0],u=g[1],a=m((0,n.useState)(""),2),i=a[0],c=a[1];(0,n.useEffect)((function(){var e=function(){return u((function(e){return 0===e.length&&p.u5.inputs.length>0?c(p.u5.inputs[0].id):e.length>0&&0===p.u5.inputs.length&&c(""),p.u5.inputs.map((function(e){return{id:e.id,manufacturer:e.manufacturer,name:e.name,type:e.type}}))}))},o=function(o){var t=o.target,n=o.type;console.log({target:t,type:n}),e()};return p.u5.addListener("connected",o),p.u5.addListener("disconnected",o),p.u5.enable().then(e).catch(console.error),function(){p.u5.removeListener("connected",o),p.u5.removeListener("disconnected",o)}}),[]);var s=(0,n.useMemo)((function(){return i?p.u5.getInputById(i):null}),[i]);return(0,n.useEffect)((function(){if(s){var e=function(e){console.info(e),o(e.note.identifier)},n=function(e){console.info(e),t(e.note.identifier)};return s.addListener("noteon",e),s.addListener("noteoff",n),function(){s.removeListener("noteon",e),s.removeListener("noteoff",n)}}}),[s]),n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"midi in:")),n.createElement("select",{value:i,onChange:(0,n.useCallback)((function(e){var o=e.target;return c(o.value)}),[])},0===r.length&&n.createElement("option",{value:""},"none"),r.map((function(e){var o=e.id,t=e.manufacturer,g=e.name,r=e.type;return n.createElement("option",{key:o,value:o},t," ",g," (",r,")")}))))}var i=t(2779),c=t.n(i),s=t(2144);function l(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?l(Object(t),!0).forEach((function(o){d(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function d(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function A(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,g,r=[],p=!0,m=!1;try{for(t=t.call(e);!(p=(n=t.next()).done)&&(r.push(n.value),!o||r.length!==o);p=!0);}catch(e){m=!0,g=e}finally{try{p||null==t.return||t.return()}finally{if(m)throw g}}return r}}(e,o)||C(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,o){if(e){if("string"==typeof e)return y(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,o):void 0}}function y(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,n=new Array(o);t<o;t++)n[t]=e[t];return n}var b=Object.entries({C5:"a","C#5":"w",D5:"s","D#5":"e",E5:"d",F5:"f","F#5":"t",G5:"g","G#5":"y",A5:"h","A#5":"u",B5:"j",C6:"k","C#6":"o",D6:"l","D#6":"p",E6:";",F6:"'"}).reduce((function(e,o){var t=A(o,2),n=t[0],r=t[1];return Object.assign(e,d({},g.Midi(n).transpose(-24).toNote(),r))}),{}),v=function(){var e=A((0,n.useState)((function(){return[]})),2),o=e[0],t=e[1],g=Object.entries(b).reduce((function(e,o){var t=A(o,2),n=t[0],g=t[1];return Object.assign(e,d({},{";":"Semicolon","'":"Quote"}[g]||"Key".concat(g.toUpperCase()),n))}),{});return(0,n.useEffect)((function(){var e=function(e){return g[e.code]&&t((function(o){return o.concat(g[e.code])}))},o=function(e){return g[e.code]&&t((function(o){return o.filter((function(o){return o!==g[e.code]}))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",o),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",o)}}),[t]),o};function E(e){var o=e.note,t=e.keyDown,g=e.keyUp,r=e.pressed,p=A((0,n.useState)({enter:!1,press:!1}),2),m=p[0],u=m.enter,a=m.press,i=p[1],l=(0,n.useMemo)((function(){return r||u&&a}),[u,a,r]);return(0,n.useEffect)((function(){return l?t(o):g(o)}),[l]),o?n.createElement("span",{className:c()(s.Z.Note,l&&s.Z.pressed),onMouseEnter:function(e){return i((function(o){return f(f({},o),{},{enter:!0,press:!!e.buttons})}))},onMouseLeave:function(){return i((function(e){return f(f({},e),{},{enter:!1})}))},onMouseDown:function(e){return e.preventDefault(),i((function(e){return f(f({},e),{},{press:!0})}))},onMouseUp:function(){return i((function(e){return f(f({},e),{},{press:!1})}))}},b[o]&&n.createElement("i",null,b[o]),o):n.createElement("span",{className:s.Z.Space})}function D(e){var o=e.octave,t=void 0===o?1:o,r=e.keys,p=e.keyDown,m=e.keyUp,u=12*t,a=[0,2,4,5,7,9,11].map((function(e){return e+u})),i=[0,1,3,0,6,8,10,0].map((function(e){return e?e+u:0}));return n.createElement("div",{className:s.Z.Octave},n.createElement("div",{className:s.Z.WhiteNotes},a.map((function(e){return g.Midi(e).toNote()})).map((function(e,o){return n.createElement(E,{key:o,note:e,keyDown:p,keyUp:m,pressed:r.includes(e)})}))),n.createElement("div",{className:s.Z.BlackNotes},i.map((function(e){return e&&g.Midi(e).toNote()})).map((function(e,o){return n.createElement(E,{key:o,note:e,keyDown:p,keyUp:m,pressed:r.includes(e)})}))))}function F(e){var o,t=e.rootoctave,g=void 0===t?4:t,r=e.octaves,p=void 0===r?4:r,m=e.keyDown,u=e.keyUp,a=e.pressed,i=v();return n.createElement("div",{className:s.Z.Keyboard},(o=Array(p),function(e){if(Array.isArray(e))return y(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||C(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,o){return o+g})).map((function(e,o){return n.createElement(D,{key:o,octave:e,keys:i.concat(a),keyDown:m,keyUp:u})})))}var G=t(3919),h=t(5120),k=t(8025),w=t(9054),x=t(7984),O=t(2636),B=t(8795),U=t(8788),S=t(2423),j=t(357),_=["note","durationTicks"];function T(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,g,r=[],p=!0,m=!1;try{for(t=t.call(e);!(p=(n=t.next()).done)&&(r.push(n.value),!o||r.length!==o);p=!0);}catch(e){m=!0,g=e}finally{try{p||null==t.return||t.return()}finally{if(m)throw g}}return r}}(e,o)||function(e,o){if(e){if("string"==typeof e)return L(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,o):void 0}}(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,n=new Array(o);t<o;t++)n[t]=e[t];return n}function N(){return(N=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function Z(e,o,t,n,g,r,p){try{var m=e[r](p),u=m.value}catch(e){return void t(e)}m.done?o(u):Promise.resolve(u).then(n,g)}var M=function(e){var o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return e+((o=e+7)-o%t)/t+function(e){return(e-e%t)/t}(e)},I=[t(8065).Z,t(9205).Z,t(9342).Z,t(4316).Z],Y=(0,j.k)(function(){var e,o=(e=regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.Midi.fromUrl(o);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{name:e.t0.message,duration:0,durationTicks:0,tracks:[]});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var o=this,t=arguments;return new Promise((function(n,g){var r=e.apply(o,t);function p(e){Z(r,n,g,p,m,"next",e)}function m(e){Z(r,n,g,p,m,"throw",e)}p(void 0)}))});return function(e){return o.apply(this,arguments)}}());function K(e){var o=e.note,t=e.durationTicks,g=function(e,o){if(null==e)return{};var t,n,g=function(e,o){if(null==e)return{};var t,n,g={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],o.indexOf(t)>=0||(g[t]=e[t]);return g}(e,o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],o.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(g[t]=e[t])}return g}(e,_);return n.createElement("button",N({className:c()(s.Z.RollNote,o.name.match(/#/)&&s.Z.sharp),style:{position:"absolute",top:"".concat((t-o.ticks-o.durationTicks)/10,"px"),left:"".concat(M(o.midi-48),"em"),height:"".concat(o.durationTicks/10,"px")}},g),n.createElement("span",null,o.name))}function H(e){var o=e.notes$,t=T((0,n.useState)((function(){return I})),2),g=t[0],p=t[1],m=T((0,n.useState)((function(){return g[0]})),2),u=m[0],a=m[1],i=Y.read(u),c=i.name,l=i.duration,f=i.durationTicks,d=i.tracks,A=T((0,n.useState)((function(){return[0]})),2),C=A[0],y=A[1],b=T((0,n.useState)(1),2),v=b[0],E=b[1],D=T((0,n.useState)(!1),2),F=D[0],S=D[1],j=(0,n.useRef)(v),_=(0,n.useRef)(null),L=(0,n.useMemo)((function(){return new r.x}),[]),N=(0,n.useMemo)((function(){return new r.x}),[]),Z=(0,n.useMemo)((function(){return(0,h.of)(void 0).pipe((0,k.j)((function(e){return o=e,G.y.create((function(e){requestAnimationFrame((function(t){var n=o?(t-o.frameStartTime)/1e3:0;e.next({frameStartTime:t,deltaTime:n})}))}));var o})),(0,w.h)((function(e){return void 0!==e})),(0,x.U)((function(e){return e.deltaTime})),(0,O.B)())}),[]);console.log({name:c,duration:l,tracks:d,selected:C}),(0,n.useEffect)((function(){j.current=v}),[Z,j,v]),(0,n.useEffect)((function(){var e=Z.pipe((0,B.M)(L),(0,w.h)((function(e){var o=T(e,2);return o[0],o[1]}))).subscribe((function(){if(_.current){var e=_.current;e.scrollTop>0?e.scrollTop-=j.current:L.next(!1)}}));return function(){return e.unsubscribe()}}),[Z,j]),(0,n.useEffect)((function(){var e=N.pipe((0,x.U)((function(e){return e.scrollTop})),(0,U.G)(),(0,x.U)((function(e){var o=T(e,2),t=o[0],n=o[1];return d.filter((function(e,o){return C.includes(o)})).map((function(e){return e.notes.filter((function(e){return o=(f-e.ticks)/10,n<=o&&o<t;var o}))})).flat()}))).subscribe((function(e){return o.next(e)}));return function(){return e.unsubscribe()}}),[N,o,d,C,f]),(0,n.useEffect)((function(){var e=L.subscribe((function(e){var o=_.current;e&&o&&0===o.scrollTop&&(o.scrollTop=o.scrollHeight),S(e)}));return function(){return e.unsubscribe()}}),[L]);var M=(0,n.useCallback)((function(e){var o=e.target;return y((function(e){return Boolean(console.log({selected:e,value:o.value}))||o.checked?e.concat(Number(o.value)):e.filter((function(e){return e!==Number(o.value)}))}))}),[y]);return n.createElement("div",null,n.createElement("fieldset",null,n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"Midi"),n.createElement("select",{value:u,onChange:(0,n.useCallback)((function(e){var o=e.target;return a(o.value),y([0])}),[])},g.map((function(e,o){return n.createElement("option",{key:o,value:e},e)})))),n.createElement("button",{onClick:function(e){return e.stopPropagation(),function(e){return(null==e?void 0:e.match(/.+$/))&&(p((function(o){return o.concat(e)})),a(e),y([0]))}(prompt("Midi file URL","https://tonejs.github.io/Midi/examples/bach_846.mid"))}},"add")),n.createElement("div",null,n.createElement("span",null,"Track"),d.map((function(e,o){var t=e.name;return n.createElement("label",{key:o},n.createElement("input",{type:"checkbox",value:o,checked:C.includes(o),onChange:M}),n.createElement("span",null,"#".concat(o," ").concat(t)))})),n.createElement("label",null,n.createElement("input",{type:"checkbox",checked:C.length===d.length,onChange:(0,n.useCallback)((function(e){var o=e.target;return y(o.checked?d.map((function(e,o){return o})):[])}),[d])}),n.createElement("strong",null,"toggle all"))),n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"Speed"),n.createElement("select",{value:v,onChange:(0,n.useCallback)((function(e){var o=e.target;return E(Number(o.value))}),[])},[1,2,3,4].map((function(e,o){return n.createElement("option",{key:o,value:e},e)})))),F?n.createElement("button",{onClick:function(e){return e.stopPropagation(),L.next(!1)}},"stop"):n.createElement("button",{onClick:function(e){return e.stopPropagation(),L.next(!0)}},"play"))),n.createElement("div",{ref:_,className:s.Z.Roll,onScroll:(0,n.useCallback)((function(e){var o=e.target;return N.next(o)}),[])},n.createElement("div",{className:s.Z.Inner,style:{height:"".concat(f/10,"px")}},d.filter((function(e,o){return C.includes(o)})).map((function(e){return e.notes.map((function(e,t){return n.createElement(K,{key:t,note:e,durationTicks:f,onMouseDown:function(t){return t.preventDefault(),o.next([e])}})}))})))))}function P(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,g,r=[],p=!0,m=!1;try{for(t=t.call(e);!(p=(n=t.next()).done)&&(r.push(n.value),!o||r.length!==o);p=!0);}catch(e){m=!0,g=e}finally{try{p||null==t.return||t.return()}finally{if(m)throw g}}return r}}(e,o)||function(e,o){if(e){if("string"==typeof e)return R(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(e,o):void 0}}(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,n=new Array(o);t<o;t++)n[t]=e[t];return n}var W={"bass-electric":{"A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]","A#5":"As5.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]"},bassoon:{A3:"A3.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",E3:"E3.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]"},cello:{E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]"},clarinet:{D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]",D2:"D2.[mp3|ogg]"},contrabass:{C1:"C1.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]",D1:"D1.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]","F#0":"Fs0.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]",G0:"G0.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]",A1:"A1.[mp3|ogg]","A#0":"As0.[mp3|ogg]",B2:"B2.[mp3|ogg]"},flute:{A5:"A5.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]"},"french-horn":{D2:"D2.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F4:"F4.[mp3|ogg]",G1:"G1.[mp3|ogg]",A0:"A0.[mp3|ogg]",A2:"A2.[mp3|ogg]",C1:"C1.[mp3|ogg]",C3:"C3.[mp3|ogg]"},"guitar-acoustic":{F3:"F3.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]","A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D1:"D1.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]"},"guitar-electric":{"D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]",E2:"E2.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]"},"guitar-nylon":{"F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",G3:"G3.[mp3|ogg]",G5:"G3.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]","G#5":"Gs5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]","A#5":"As5.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D5:"D5.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]"},harmonium:{C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]"},harp:{C5:"C5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D4:"D4.[mp3|ogg]",D6:"D6.[mp3|ogg]",D7:"D7.[mp3|ogg]",E1:"E1.[mp3|ogg]",E3:"E3.[mp3|ogg]",E5:"E5.[mp3|ogg]",F2:"F2.[mp3|ogg]",F4:"F4.[mp3|ogg]",F6:"F6.[mp3|ogg]",F7:"F7.[mp3|ogg]",G1:"G1.[mp3|ogg]",G3:"G3.[mp3|ogg]",G5:"G5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A4:"A4.[mp3|ogg]",A6:"A6.[mp3|ogg]",B1:"B1.[mp3|ogg]",B3:"B3.[mp3|ogg]",B5:"B5.[mp3|ogg]",B6:"B6.[mp3|ogg]",C3:"C3.[mp3|ogg]"},organ:{C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",C1:"C1.[mp3|ogg]",C2:"C2.[mp3|ogg]"},piano:{A0:"A0.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",A6:"A6.[mp3|ogg]","A#0":"As0.[mp3|ogg]","A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]","A#5":"As5.[mp3|ogg]","A#6":"As6.[mp3|ogg]",B0:"B0.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]",B5:"B5.[mp3|ogg]",B6:"B6.[mp3|ogg]",C0:"C0.[mp3|ogg]",C1:"C1.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",C7:"C7.[mp3|ogg]","C#0":"Cs0.[mp3|ogg]","C#1":"Cs1.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]","C#6":"Cs6.[mp3|ogg]",D0:"D0.[mp3|ogg]",D1:"D1.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]",D6:"D6.[mp3|ogg]","D#0":"Ds0.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]","D#6":"Ds6.[mp3|ogg]",E0:"E0.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",E6:"E6.[mp3|ogg]",F0:"F0.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]",F5:"F5.[mp3|ogg]",F6:"F6.[mp3|ogg]","F#0":"Fs0.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]","F#6":"Fs6.[mp3|ogg]",G0:"G0.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]","G#0":"Gs0.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]","G#5":"Gs5.[mp3|ogg]","G#6":"Gs6.[mp3|ogg]"},saxophone:{"D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]"},trombone:{"A#2":"As2.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]","C#1":"Cs1.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","A#0":"As0.[mp3|ogg]","A#1":"As1.[mp3|ogg]"},trumpet:{C5:"C5.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]",G3:"G3.[mp3|ogg]",A2:"A2.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#3":"As3.[mp3|ogg]",C3:"C3.[mp3|ogg]"},tuba:{"A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]",F0:"F0.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]","A#0":"As0.[mp3|ogg]"},violin:{A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",A6:"A6.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",C7:"C7.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",E6:"E6.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]"},xylophone:{C7:"C7.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]"}};function z(){var e=(0,n.useMemo)((function(){return new r.x}),[]),o=P((0,n.useState)((function(){return[]})),2),t=o[0],p=o[1],m=P((0,n.useState)("guitar-nylon"),2),u=m[0],i=m[1],c=function(e){var o=P((0,n.useState)(null),2),t=o[0],r=o[1];return(0,n.useEffect)((function(){var o=new g.Sampler({baseUrl:"https://nbrosowsky.github.io/tonejs-instruments/samples/".concat(e,"/"),urls:Object.entries(W[e]).reduce((function(e,o){var t=P(o,2),n=t[0],g=t[1];return Object.assign(e,function(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}({},n,g.replace("[mp3|ogg]","mp3")))}),{}),release:1,onload:function(){r(o)}}).toDestination()}),[e]),t}(u),s=(0,n.useCallback)((function(e){return c&&c.triggerAttack(e),p((function(o){return o.concat(e)}))}),[c]),l=(0,n.useCallback)((function(e){return c&&c.triggerRelease(e),p((function(o){return o.filter((function(o){return o!==e}))}))}),[c]);return(0,n.useEffect)((function(){var o=e.subscribe((function(e){return o=g.now(),e.forEach((function(e){c&&c.triggerAttackRelease(e.name,e.duration,o,e.velocity),g.Draw.schedule((function(){p((function(o){return o.concat(e.name)}))}),o),g.Draw.schedule((function(){p((function(o){return o.filter((function(o){return o!==e.name}))}))}),o+e.duration)}));var o}));return function(){return o.unsubscribe()}}),[e,c,p]),n.createElement("div",null,"Piano",n.createElement("select",{value:u,onChange:(0,n.useCallback)((function(e){var o=e.target;return i(o.value)}),[])},Object.keys(W).map((function(e,o){return n.createElement("option",{key:o,value:e},e)}))),n.createElement(a,{keyDown:s,keyUp:l}),n.createElement(H,{notes$:e}),c&&n.createElement(F,{keyDown:s,keyUp:l,pressed:t}))}},8143:(e,o,t)=>{t.r(o),t.d(o,{default:()=>s});var n=t(9601),g=t.n(n),r=t(2609),p=t.n(r),m=t(8991),u=t.n(m),a=new URL(t(3715),t.b),i=p()(g()),c=u()(a);i.push([e.id,".tl_c1qJYTb5yZEiHwKkb{border:1px solid #d3d3d3;padding:0;outline:none;transition:background-color .2s;border-radius:2px;font-size:9px}.tl_c1qJYTb5yZEiHwKkb:focus{border-color:gray}.xedOmG_wUpF499FfpxBO{display:flex;position:relative}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb,.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e{display:flex;flex:1;flex-direction:column}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb{z-index:1;align-items:center;justify-content:end;font-family:Arial;font-size:9px}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb i{margin:.5em 0;font-size:larger;font-weight:bold}.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e{pointer-events:none}.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e:first-of-type,.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e:last-of-type{flex-grow:.5}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0,.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o{position:absolute;display:flex;flex-direction:row;flex-grow:1}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0{width:100%;height:100%}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0 .tl_c1qJYTb5yZEiHwKkb{background-color:#fff;color:#000}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0 .tl_c1qJYTb5yZEiHwKkb.C1VXh_7oUTVqX2wuk8zM{border-color:red}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o{width:100%;height:55%}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o .tl_c1qJYTb5yZEiHwKkb{background-color:#000;color:#ccc}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o .tl_c1qJYTb5yZEiHwKkb.C1VXh_7oUTVqX2wuk8zM{border-color:red}._8DbB5CERGA5bp_CPPh5{display:flex;position:relative;top:-100px;height:0;background-color:#fff;opacity:.8}._8DbB5CERGA5bp_CPPh5 .xedOmG_wUpF499FfpxBO{flex-grow:1;height:80px}.to5WNLg1CzgQJEw4BWl7{position:relative;display:flex;flex-direction:row;width:100%;height:500px;overflow-y:scroll}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_{position:absolute;font-size:1.7857142857vw;border:1px solid red;box-sizing:border-box;background:rgba(255,128,0,.2);color:red;opacity:.8;width:2em;margin:400px 0 0;padding:0;align-items:center;justify-content:center}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_.xI2VmWOcs2MgyyQUklLA{background:rgba(255,0,0,.6);color:#fff}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_:hover{opacity:1}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_ span{font-family:Arial;font-size:9px}.to5WNLg1CzgQJEw4BWl7 .iNXp4jf9N6exbktzLAso{display:flex;flex-direction:column;padding:360px 0;flex-grow:1;background:#fff url("+c+");background-size:7.1428571429vw 72px}",""]),i.locals={Note:"tl_c1qJYTb5yZEiHwKkb",Octave:"xedOmG_wUpF499FfpxBO",Space:"vEdUZpIgLUgprvHGy89e",WhiteNotes:"MTvQk2t6H4kpI9hiG0N0",BlackNotes:"Y3ARd6LKLk7oRKYGHK5o",pressed:"C1VXh_7oUTVqX2wuk8zM",Keyboard:"_8DbB5CERGA5bp_CPPh5",Roll:"to5WNLg1CzgQJEw4BWl7",RollNote:"YSOWVtYln3cyrrmD8Of_",sharp:"xI2VmWOcs2MgyyQUklLA",Inner:"iNXp4jf9N6exbktzLAso"};const s=i},9342:(e,o,t)=>{t.d(o,{Z:()=>n});const n=t.p+"875ae3b74407297f3a51860f1a0353b0.mid"},9205:(e,o,t)=>{t.d(o,{Z:()=>n});const n=t.p+"d1861a6e2649b4f97f31196829ac89c3.mid"},8065:(e,o,t)=>{t.d(o,{Z:()=>n});const n=t.p+"cfe23cb6e3ba37bfbe92a47c5926047e.mid"},4316:(e,o,t)=>{t.d(o,{Z:()=>n});const n=t.p+"95667c35c56500a40d9f72c749159ff3.mid"},2144:(e,o,t)=>{t.d(o,{Z:()=>v});var n=t(6062),g=t.n(n),r=t(4036),p=t.n(r),m=t(6793),u=t.n(m),a=t(7892),i=t.n(a),c=t(1173),s=t.n(c),l=t(2464),f=t.n(l),d=t(8143),A={};A.styleTagTransform=f(),A.setAttributes=i(),A.insert=u().bind(null,"head"),A.domAPI=p(),A.insertStyleElement=s();var C=g()(d.default,A);if(!d.default.locals||e.hot.invalidate){var y=!d.default.locals,b=y?d:d.default.locals;e.hot.accept(8143,(o=>{d=t(8143),function(e,o,t){if(!e&&o||e&&!o)return!1;var n;for(n in e)if((!t||"default"!==n)&&e[n]!==o[n])return!1;for(n in o)if(!(t&&"default"===n||e[n]))return!1;return!0}(b,y?d:d.default.locals,y)?(b=y?d:d.default.locals,C(d.default)):e.hot.invalidate()}))}e.hot.dispose((function(){C()}));const v=d.default&&d.default.locals?d.default.locals:void 0},3715:e=>{e.exports='data:image/svg+xml,        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" fill-opacity=".05" >        <rect x="100" width="100" height="100" />        <rect y="100" width="100" height="100" />        </svg>'}}]);