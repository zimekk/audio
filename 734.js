"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[734],{734:(e,t,o)=>{o.r(t),o.d(t,{default:()=>x});var l=o(2784),a=o(3752),n=o(3919),r=o(1148),s=o(5120),i=o(8025),c=o(9054),d=o(7984),p=o(2636),f=o(8795),u=o(2144);function m({note:e,color:t,synth:o}){return console.log({note:e,synth:o}),e?l.createElement("button",{className:u.Z.Note,style:{background:t,color:"black"===t?"#ccc":"black"},onMouseDown:t=>o.triggerAttack(e),onMouseUp:t=>o.triggerRelease(e)},e):l.createElement("span",{className:u.Z.Space})}function b({octave:e=1,synth:t}){const o=12*e,n=[0,2,4,5,7,9,11].map((e=>e+o)),r=[0,1,3,0,6,8,10,0].map((e=>e?e+o:0));return l.createElement("div",{className:u.Z.Octave},l.createElement("div",{className:u.Z.WhiteNotes},n.map((e=>a.mb(e).toNote())).map(((e,o)=>l.createElement(m,{key:o,color:"#aaa",note:e,synth:t})))),l.createElement("div",{className:u.Z.BlackNotes},r.map((e=>Boolean(console.log({note:e}))||e&&a.mb(e).toNote())).map(((e,o)=>l.createElement(m,{key:o,color:"black",note:e,synth:t})))))}function h({rootoctave:e=4,octaves:t=4,synth:o}){return l.createElement("div",{className:u.Z.Keyboard},[...Array(t)].map(((t,o)=>o+e)).map(((e,t)=>l.createElement(b,{key:t,octave:e,synth:o}))))}function g({notes:e}){const[t,o]=(0,l.useState)(!1),m=(0,l.useRef)(null),b=(0,l.useMemo)((()=>new r.x),[]),h=(0,l.useMemo)((()=>(0,s.of)(void 0).pipe((0,i.j)((e=>{return t=e,n.y.create((e=>{requestAnimationFrame((o=>{const l=t?(o-t.frameStartTime)/1e3:0;e.next({frameStartTime:o,deltaTime:l})}))}));var t})),(0,c.h)((e=>void 0!==e)),(0,d.U)((e=>e.deltaTime)),(0,p.B)())),[]);return(0,l.useEffect)((()=>{const e=h.pipe((0,f.M)(b),(0,c.h)((([e,t])=>t))).subscribe((()=>{if(m.current){const e=m.current;e.scrollTop>0&&(e.scrollTop-=1)}}));return()=>e.unsubscribe()}),[h]),(0,l.useEffect)((()=>{const e=b.subscribe((e=>{o(e)}));return()=>e.unsubscribe()}),[b]),l.createElement("div",null,t?l.createElement("button",{onClick:e=>(e.stopPropagation(),b.next(!1))},"stop"):l.createElement("button",{onClick:e=>(e.stopPropagation(),b.next(!0))},"play"),l.createElement("div",{ref:m,className:u.Z.Roll,onScroll:(0,l.useCallback)((({target:e})=>console.log(e.scrollTop,e.scrollHeight,e.offsetHeight)),[])},l.createElement("div",{className:u.Z.Inner},e.map((e=>e.replace(/(\d)SH/,"#$1"))).map(((e,t)=>l.createElement("div",{key:t,className:u.Z.RollNote,style:{left:a.mb(e).toMidi()-48+"em"}},l.createElement("span",{alt:a.mb(e).toMidi()},e)))))))}function x(){const e=(()=>{const[e]=(0,l.useState)((()=>new a.v2(a.op,{volume:-8,oscillator:{type:"square8"},envelope:{attack:.05,decay:.3,sustain:.4,release:.8},filterEnvelope:{attack:.001,decay:.7,sustain:.1,release:.8,baseFrequency:300,octaves:4}}).toDestination()));return e})();return l.createElement("div",null,"Piano",l.createElement(g,{notes:["F4","A4SH","C5","D5","A4SH","C5","D5","G4","A4SH","C5","F5","A4SH","C5","D5","A4SH","C5","F5","F4","A4SH","C5","D5","A4SH","C5","D5","G4","A4SH","C5","D5","A4SH","C5","D5","A4","A4SH","C5","F5","A4SH","C5","D5"]}),l.createElement("div",null,l.createElement("a",{href:"#"},"https://musiclab.chromeexperiments.com/Shared-Piano/"),l.createElement("a",{href:"#"},"https://github.com/Monika-After-Story/MonikaModDev/issues/5712")),l.createElement(h,{synth:e}))}},8143:(e,t,o)=>{o.r(t),o.d(t,{default:()=>f});var l=o(9601),a=o.n(l),n=o(2609),r=o.n(n),s=o(8991),i=o.n(s),c=new URL(o(3715),o.b),d=r()(a()),p=i()(c);d.push([e.id,".tl_c1qJYTb5yZEiHwKkb{border:1px solid #fff;box-sizing:border-box;padding:2px;outline:none;transition:background-color .2s;border-radius:2px;font-size:9px}.tl_c1qJYTb5yZEiHwKkb:focus{border-color:#666}.xedOmG_wUpF499FfpxBO{display:block;position:relative;height:100%;width:100%}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb,.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e{order:0;flex-grow:1;display:flex;align-items:end;justify-content:center}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0{position:absolute;left:0px;top:0px;width:100%;height:100%;display:flex;flex-direction:row}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o{position:absolute;top:0px;width:100%;display:flex;flex-direction:row;height:55%}._8DbB5CERGA5bp_CPPh5{display:flex;background-color:#fff;height:80px}._8DbB5CERGA5bp_CPPh5 .xedOmG_wUpF499FfpxBO{flex-grow:1}.to5WNLg1CzgQJEw4BWl7{position:relative;display:flex;flex-direction:column;width:100%;height:300px;overflow-y:scroll}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_{position:relative;font-size:2.0408163265vw;border:1px solid red;background:rgba(255,0,0,.2);margin:1em 0;width:1em;text-align:center}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_ span{font-family:Arial;font-size:9px}.to5WNLg1CzgQJEw4BWl7 .iNXp4jf9N6exbktzLAso{display:flex;flex-direction:column;padding-bottom:300px;flex-grow:1;background:#fff url("+p+");background-size:20px 20px}",""]),d.locals={Note:"tl_c1qJYTb5yZEiHwKkb",Octave:"xedOmG_wUpF499FfpxBO",Space:"vEdUZpIgLUgprvHGy89e",WhiteNotes:"MTvQk2t6H4kpI9hiG0N0",BlackNotes:"Y3ARd6LKLk7oRKYGHK5o",Keyboard:"_8DbB5CERGA5bp_CPPh5",Roll:"to5WNLg1CzgQJEw4BWl7",RollNote:"YSOWVtYln3cyrrmD8Of_",Inner:"iNXp4jf9N6exbktzLAso"};const f=d},2144:(e,t,o)=>{o.d(t,{Z:()=>y});var l=o(6062),a=o.n(l),n=o(4036),r=o.n(n),s=o(6793),i=o.n(s),c=o(7892),d=o.n(c),p=o(1173),f=o.n(p),u=o(2464),m=o.n(u),b=o(8143),h={};h.styleTagTransform=m(),h.setAttributes=d(),h.insert=i().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=f();var g=a()(b.default,h);if(!b.default.locals||e.hot.invalidate){var x=!b.default.locals,v=x?b:b.default.locals;e.hot.accept(8143,(t=>{b=o(8143),function(e,t,o){if(!e&&t||e&&!t)return!1;var l;for(l in e)if((!o||"default"!==l)&&e[l]!==t[l])return!1;for(l in t)if(!(o&&"default"===l||e[l]))return!1;return!0}(v,x?b:b.default.locals,x)?(v=x?b:b.default.locals,g(b.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));const y=b.default&&b.default.locals?b.default.locals:void 0},3715:e=>{e.exports='data:image/svg+xml,        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" fill-opacity=".05" >        <rect x="100" width="100" height="100" />        <rect y="100" width="100" height="100" />        </svg>'}}]);