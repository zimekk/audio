"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[843],{2843:(g,o,e)=>{e.r(o),e.d(o,{default:()=>U});var p=e(2784),m=e(3691),t=e(1148),s=e(2779),n=e.n(s),a=e(2144);const r=Object.entries({C5:"a","C#5":"w",D5:"s","D#5":"e",E5:"d",F5:"f","F#5":"t",G5:"g","G#5":"y",A5:"h","A#5":"u",B5:"j",C6:"k","C#6":"o",D6:"l","D#6":"p",E6:";",F6:"'"}).reduce(((g,[o,e])=>Object.assign(g,{[m.Midi(o).transpose(-24).toNote()]:e})),{}),l=()=>{const[g,o]=(0,p.useState)((()=>[])),e=Object.entries(r).reduce(((g,[o,e])=>Object.assign(g,{[{";":"Semicolon","'":"Quote"}[e]||`Key${e.toUpperCase()}`]:o})),{});return(0,p.useEffect)((()=>{const g=g=>e[g.code]&&o((o=>o.concat(e[g.code]))),p=g=>e[g.code]&&o((o=>o.filter((o=>o!==e[g.code]))));return document.addEventListener("keydown",g),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",p)}}),[o]),g};function c({note:g,keyDown:o,keyUp:e,pressed:m}){const[{enter:t,press:s},l]=(0,p.useState)({enter:!1,press:!1}),c=(0,p.useMemo)((()=>m||t&&s),[t,s,m]);return(0,p.useEffect)((()=>c?o(g):e(g)),[c]),g?p.createElement("span",{className:n()(a.Z.Note,c&&a.Z.pressed),onMouseEnter:g=>l((o=>({...o,enter:!0,press:!!g.buttons}))),onMouseLeave:()=>l((g=>({...g,enter:!1}))),onMouseDown:g=>(g.preventDefault(),l((g=>({...g,press:!0})))),onMouseUp:()=>l((g=>({...g,press:!1})))},r[g]&&p.createElement("i",null,r[g]),g):p.createElement("span",{className:a.Z.Space})}function i({octave:g=1,keys:o,keyDown:e,keyUp:t}){const s=12*g,n=[0,2,4,5,7,9,11].map((g=>g+s)),r=[0,1,3,0,6,8,10,0].map((g=>g?g+s:0));return p.createElement("div",{className:a.Z.Octave},p.createElement("div",{className:a.Z.WhiteNotes},n.map((g=>m.Midi(g).toNote())).map(((g,m)=>p.createElement(c,{key:m,note:g,keyDown:e,keyUp:t,pressed:o.includes(g)})))),p.createElement("div",{className:a.Z.BlackNotes},r.map((g=>g&&m.Midi(g).toNote())).map(((g,m)=>p.createElement(c,{key:m,note:g,keyDown:e,keyUp:t,pressed:o.includes(g)})))))}function u({rootoctave:g=4,octaves:o=4,keyDown:e,keyUp:m,pressed:t}){const s=l();return p.createElement("div",{className:a.Z.Keyboard},[...Array(o)].map(((o,e)=>e+g)).map(((g,o)=>p.createElement(i,{key:o,octave:g,keys:s.concat(t),keyDown:e,keyUp:m}))))}var C=e(3919),d=e(5120),A=e(8025),F=e(9054),D=e(7984),G=e(2636),E=e(8795),f=e(8788),b=e(2423),k=e(357);function y(){return(y=Object.assign||function(g){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(g[p]=e[p])}return g}).apply(this,arguments)}const x=(g,o=12)=>{return g+((e=g+7)-e%o)/o+(g=>(g-g%o)/o)(g);var e},h=[e(8065).Z,e(9205).Z,e(9342).Z,e(4316).Z],v=(0,k.k)((async g=>{try{return await b.Midi.fromUrl(g)}catch(g){return console.error(g),{name:g.message,duration:0,durationTicks:0,tracks:[]}}}));function w({note:g,durationTicks:o,...e}){return p.createElement("button",y({className:n()(a.Z.RollNote,g.name.match(/#/)&&a.Z.sharp),style:{position:"absolute",top:(o-g.ticks-g.durationTicks)/10+"px",left:`${x(g.midi-48)}em`,height:g.durationTicks/10+"px"}},e),p.createElement("span",null,g.name))}function B({notes$:g}){const[o,e]=(0,p.useState)((()=>h)),[m,s]=(0,p.useState)((()=>o[0])),{name:n,duration:r,durationTicks:l,tracks:c}=v.read(m),[i,u]=(0,p.useState)((()=>[0])),[b,k]=(0,p.useState)(1),[y,x]=(0,p.useState)(!1),B=(0,p.useRef)(b),O=(0,p.useRef)(null),U=(0,p.useMemo)((()=>new t.x),[]),_=(0,p.useMemo)((()=>new t.x),[]),N=(0,p.useMemo)((()=>(0,d.of)(void 0).pipe((0,A.j)((g=>{return o=g,C.y.create((g=>{requestAnimationFrame((e=>{const p=o?(e-o.frameStartTime)/1e3:0;g.next({frameStartTime:e,deltaTime:p})}))}));var o})),(0,F.h)((g=>void 0!==g)),(0,D.U)((g=>g.deltaTime)),(0,G.B)())),[]);console.log({name:n,duration:r,tracks:c,selected:i}),(0,p.useEffect)((()=>{B.current=b}),[N,B,b]),(0,p.useEffect)((()=>{const g=N.pipe((0,E.M)(U),(0,F.h)((([g,o])=>o))).subscribe((()=>{if(O.current){const g=O.current;g.scrollTop>0?g.scrollTop-=B.current:U.next(!1)}}));return()=>g.unsubscribe()}),[N,B]),(0,p.useEffect)((()=>{const o=_.pipe((0,D.U)((g=>g.scrollTop)),(0,f.G)(),(0,D.U)((([g,o])=>c.filter(((g,o)=>i.includes(o))).map((({notes:e})=>e.filter((e=>{return p=(l-e.ticks)/10,o<=p&&p<g;var p})))).flat()))).subscribe((o=>g.next(o)));return()=>o.unsubscribe()}),[_,g,c,i,l]),(0,p.useEffect)((()=>{const g=U.subscribe((g=>{const o=O.current;g&&o&&0===o.scrollTop&&(o.scrollTop=o.scrollHeight),x(g)}));return()=>g.unsubscribe()}),[U]);const T=(0,p.useCallback)((({target:g})=>u((o=>Boolean(console.log({selected:o,value:g.value}))||g.checked?o.concat(Number(g.value)):o.filter((o=>o!==Number(g.value)))))),[u]);return p.createElement("div",null,p.createElement("fieldset",null,p.createElement("div",null,p.createElement("label",null,p.createElement("span",null,"Midi"),p.createElement("select",{value:m,onChange:(0,p.useCallback)((({target:g})=>(s(g.value),u([0]))),[])},o.map(((g,o)=>p.createElement("option",{key:o,value:g},g))))),p.createElement("button",{onClick:g=>(g.stopPropagation(),(g=>g?.match(/.+$/)&&(e((o=>o.concat(g))),s(g),u([0])))(prompt("Midi file URL","https://tonejs.github.io/Midi/examples/bach_846.mid")))},"add")),p.createElement("div",null,p.createElement("span",null,"Track"),c.map((({name:g},o)=>p.createElement("label",{key:o},p.createElement("input",{type:"checkbox",value:o,checked:i.includes(o),onChange:T}),p.createElement("span",null,`#${o} ${g}`)))),p.createElement("label",null,p.createElement("input",{type:"checkbox",checked:i.length===c.length,onChange:(0,p.useCallback)((({target:g})=>u(g.checked?c.map(((g,o)=>o)):[])),[c])}),p.createElement("strong",null,"toggle all"))),p.createElement("div",null,p.createElement("label",null,p.createElement("span",null,"Speed"),p.createElement("select",{value:b,onChange:(0,p.useCallback)((({target:g})=>k(Number(g.value))),[])},[1,2,3,4].map(((g,o)=>p.createElement("option",{key:o,value:g},g))))),y?p.createElement("button",{onClick:g=>(g.stopPropagation(),U.next(!1))},"stop"):p.createElement("button",{onClick:g=>(g.stopPropagation(),U.next(!0))},"play"))),p.createElement("div",{ref:O,className:a.Z.Roll,onScroll:(0,p.useCallback)((({target:g})=>_.next(g)),[])},p.createElement("div",{className:a.Z.Inner,style:{height:l/10+"px"}},c.filter(((g,o)=>i.includes(o))).map((({notes:o})=>o.map(((o,e)=>p.createElement(w,{key:e,note:o,durationTicks:l,onMouseDown:e=>(e.preventDefault(),g.next([o]))}))))))))}const O={"bass-electric":{"A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]","A#5":"As5.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]"},bassoon:{A3:"A3.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",E3:"E3.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]"},cello:{E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]"},clarinet:{D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]",D2:"D2.[mp3|ogg]"},contrabass:{C1:"C1.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]",D1:"D1.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]","F#0":"Fs0.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]",G0:"G0.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]",A1:"A1.[mp3|ogg]","A#0":"As0.[mp3|ogg]",B2:"B2.[mp3|ogg]"},flute:{A5:"A5.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]"},"french-horn":{D2:"D2.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F4:"F4.[mp3|ogg]",G1:"G1.[mp3|ogg]",A0:"A0.[mp3|ogg]",A2:"A2.[mp3|ogg]",C1:"C1.[mp3|ogg]",C3:"C3.[mp3|ogg]"},"guitar-acoustic":{F3:"F3.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]","A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D1:"D1.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]"},"guitar-electric":{"D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]",E2:"E2.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]"},"guitar-nylon":{"F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",G3:"G3.[mp3|ogg]",G5:"G3.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]","G#5":"Gs5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]","A#5":"As5.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D5:"D5.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]"},harmonium:{C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]"},harp:{C5:"C5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D4:"D4.[mp3|ogg]",D6:"D6.[mp3|ogg]",D7:"D7.[mp3|ogg]",E1:"E1.[mp3|ogg]",E3:"E3.[mp3|ogg]",E5:"E5.[mp3|ogg]",F2:"F2.[mp3|ogg]",F4:"F4.[mp3|ogg]",F6:"F6.[mp3|ogg]",F7:"F7.[mp3|ogg]",G1:"G1.[mp3|ogg]",G3:"G3.[mp3|ogg]",G5:"G5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A4:"A4.[mp3|ogg]",A6:"A6.[mp3|ogg]",B1:"B1.[mp3|ogg]",B3:"B3.[mp3|ogg]",B5:"B5.[mp3|ogg]",B6:"B6.[mp3|ogg]",C3:"C3.[mp3|ogg]"},organ:{C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",C1:"C1.[mp3|ogg]",C2:"C2.[mp3|ogg]"},piano:{A0:"A0.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",A6:"A6.[mp3|ogg]","A#0":"As0.[mp3|ogg]","A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]","A#5":"As5.[mp3|ogg]","A#6":"As6.[mp3|ogg]",B0:"B0.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]",B5:"B5.[mp3|ogg]",B6:"B6.[mp3|ogg]",C0:"C0.[mp3|ogg]",C1:"C1.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",C7:"C7.[mp3|ogg]","C#0":"Cs0.[mp3|ogg]","C#1":"Cs1.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]","C#6":"Cs6.[mp3|ogg]",D0:"D0.[mp3|ogg]",D1:"D1.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]",D6:"D6.[mp3|ogg]","D#0":"Ds0.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]","D#6":"Ds6.[mp3|ogg]",E0:"E0.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",E6:"E6.[mp3|ogg]",F0:"F0.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]",F5:"F5.[mp3|ogg]",F6:"F6.[mp3|ogg]","F#0":"Fs0.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]","F#6":"Fs6.[mp3|ogg]",G0:"G0.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]","G#0":"Gs0.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]","G#5":"Gs5.[mp3|ogg]","G#6":"Gs6.[mp3|ogg]"},saxophone:{"D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]"},trombone:{"A#2":"As2.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]","C#1":"Cs1.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","A#0":"As0.[mp3|ogg]","A#1":"As1.[mp3|ogg]"},trumpet:{C5:"C5.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]",G3:"G3.[mp3|ogg]",A2:"A2.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#3":"As3.[mp3|ogg]",C3:"C3.[mp3|ogg]"},tuba:{"A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]",F0:"F0.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]","A#0":"As0.[mp3|ogg]"},violin:{A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",A6:"A6.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",C7:"C7.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",E6:"E6.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]"},xylophone:{C7:"C7.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]"}};function U(){const g=(0,p.useMemo)((()=>new t.x),[]),[o,e]=(0,p.useState)((()=>[])),[s,n]=(0,p.useState)("guitar-nylon"),a=(g=>{const[o,e]=(0,p.useState)(null);return(0,p.useEffect)((()=>{const o=new m.Sampler({baseUrl:`https://nbrosowsky.github.io/tonejs-instruments/samples/${g}/`,urls:Object.entries(O[g]).reduce(((g,[o,e])=>Object.assign(g,{[o]:e.replace("[mp3|ogg]","mp3")})),{}),release:1,onload:()=>{e(o)}}).toDestination()}),[g]),o})(s),r=(0,p.useCallback)((g=>a.triggerAttack(g)),[a]),l=(0,p.useCallback)((g=>a.triggerRelease(g)),[a]);return(0,p.useEffect)((()=>{const o=g.subscribe((g=>{return o=m.now(),g.forEach((g=>{a.triggerAttackRelease(g.name,g.duration,o,g.velocity),m.Draw.schedule((()=>{e((o=>o.concat(g.name)))}),o),m.Draw.schedule((()=>{e((o=>o.filter((o=>o!==g.name))))}),o+g.duration)}));var o}));return()=>o.unsubscribe()}),[g,a,e]),p.createElement("div",null,"Piano",p.createElement("select",{value:s,onChange:(0,p.useCallback)((({target:g})=>n(g.value)),[])},Object.keys(O).map(((g,o)=>p.createElement("option",{key:o,value:g},g)))),p.createElement(B,{notes$:g}),a&&p.createElement(u,{keyDown:r,keyUp:l,pressed:o}))}},8143:(g,o,e)=>{e.r(o),e.d(o,{default:()=>i});var p=e(9601),m=e.n(p),t=e(2609),s=e.n(t),n=e(8991),a=e.n(n),r=new URL(e(3715),e.b),l=s()(m()),c=a()(r);l.push([g.id,".tl_c1qJYTb5yZEiHwKkb{border:1px solid #d3d3d3;padding:0;outline:none;transition:background-color .2s;border-radius:2px;font-size:9px}.tl_c1qJYTb5yZEiHwKkb:focus{border-color:gray}.xedOmG_wUpF499FfpxBO{display:flex;position:relative}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb,.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e{display:flex;flex:1;flex-direction:column}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb{z-index:1;align-items:center;justify-content:end;font-family:Arial;font-size:9px}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb i{margin:.5em 0;font-size:larger;font-weight:bold}.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e{pointer-events:none}.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e:first-of-type,.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e:last-of-type{flex-grow:.5}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0,.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o{position:absolute;display:flex;flex-direction:row;flex-grow:1}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0{width:100%;height:100%}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0 .tl_c1qJYTb5yZEiHwKkb{background-color:#fff;color:#000}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0 .tl_c1qJYTb5yZEiHwKkb.C1VXh_7oUTVqX2wuk8zM{border-color:red}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o{width:100%;height:55%}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o .tl_c1qJYTb5yZEiHwKkb{background-color:#000;color:#ccc}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o .tl_c1qJYTb5yZEiHwKkb.C1VXh_7oUTVqX2wuk8zM{border-color:red}._8DbB5CERGA5bp_CPPh5{display:flex;position:relative;top:-100px;height:0;background-color:#fff;opacity:.8}._8DbB5CERGA5bp_CPPh5 .xedOmG_wUpF499FfpxBO{flex-grow:1;height:80px}.to5WNLg1CzgQJEw4BWl7{position:relative;display:flex;flex-direction:row;width:100%;height:500px;overflow-y:scroll}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_{position:absolute;font-size:1.7857142857vw;border:1px solid red;box-sizing:border-box;background:rgba(255,128,0,.2);color:red;opacity:.8;width:2em;margin:400px 0 0;padding:0;align-items:center;justify-content:center}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_.xI2VmWOcs2MgyyQUklLA{background:rgba(255,0,0,.6);color:#fff}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_:hover{opacity:1}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_ span{font-family:Arial;font-size:9px}.to5WNLg1CzgQJEw4BWl7 .iNXp4jf9N6exbktzLAso{display:flex;flex-direction:column;padding:360px 0;flex-grow:1;background:#fff url("+c+");background-size:7.1428571429vw 72px}",""]),l.locals={Note:"tl_c1qJYTb5yZEiHwKkb",Octave:"xedOmG_wUpF499FfpxBO",Space:"vEdUZpIgLUgprvHGy89e",WhiteNotes:"MTvQk2t6H4kpI9hiG0N0",BlackNotes:"Y3ARd6LKLk7oRKYGHK5o",pressed:"C1VXh_7oUTVqX2wuk8zM",Keyboard:"_8DbB5CERGA5bp_CPPh5",Roll:"to5WNLg1CzgQJEw4BWl7",RollNote:"YSOWVtYln3cyrrmD8Of_",sharp:"xI2VmWOcs2MgyyQUklLA",Inner:"iNXp4jf9N6exbktzLAso"};const i=l},9342:(g,o,e)=>{e.d(o,{Z:()=>p});const p=e.p+"875ae3b74407297f3a51860f1a0353b0.mid"},9205:(g,o,e)=>{e.d(o,{Z:()=>p});const p=e.p+"d1861a6e2649b4f97f31196829ac89c3.mid"},8065:(g,o,e)=>{e.d(o,{Z:()=>p});const p=e.p+"cfe23cb6e3ba37bfbe92a47c5926047e.mid"},4316:(g,o,e)=>{e.d(o,{Z:()=>p});const p=e.p+"95667c35c56500a40d9f72c749159ff3.mid"},2144:(g,o,e)=>{e.d(o,{Z:()=>E});var p=e(6062),m=e.n(p),t=e(4036),s=e.n(t),n=e(6793),a=e.n(n),r=e(7892),l=e.n(r),c=e(1173),i=e.n(c),u=e(2464),C=e.n(u),d=e(8143),A={};A.styleTagTransform=C(),A.setAttributes=l(),A.insert=a().bind(null,"head"),A.domAPI=s(),A.insertStyleElement=i();var F=m()(d.default,A);if(!d.default.locals||g.hot.invalidate){var D=!d.default.locals,G=D?d:d.default.locals;g.hot.accept(8143,(o=>{d=e(8143),function(g,o,e){if(!g&&o||g&&!o)return!1;var p;for(p in g)if((!e||"default"!==p)&&g[p]!==o[p])return!1;for(p in o)if(!(e&&"default"===p||g[p]))return!1;return!0}(G,D?d:d.default.locals,D)?(G=D?d:d.default.locals,F(d.default)):g.hot.invalidate()}))}g.hot.dispose((function(){F()}));const E=d.default&&d.default.locals?d.default.locals:void 0},3715:g=>{g.exports='data:image/svg+xml,        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" fill-opacity=".05" >        <rect x="100" width="100" height="100" />        <rect y="100" width="100" height="100" />        </svg>'}}]);