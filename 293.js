/*! For license information please see 293.js.LICENSE.txt */
(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[293],{2382:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n=o.p+"95667c35c56500a40d9f72c749159ff3.mid"},2444:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n=o.p+"cfe23cb6e3ba37bfbe92a47c5926047e.mid"},5622:(e,t,o)=>{"use strict";o.d(t,{default:()=>E});var n=o(8771),r=o.n(n),g=o(3560),p=o.n(g),m=o(4404),u=o.n(m),i=o(2851),a=o.n(i),c=o(9751),l=o.n(c),s=o(4836),f=o.n(s),d=o(6592),y=o.n(d),b={};b.styleTagTransform=f(),b.setAttributes=a(),b.insert=u().bind(null,"head"),b.domAPI=p(),b.insertStyleElement=l();var v=r()(y(),b);if(!y().locals||e.hot.invalidate){var A=!y().locals,C=A?d:y().locals;e.hot.accept(6592,t=>{d=o(6592),y=o.n(d),function(e,t,o){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!o||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(o&&"default"===n||e[n]))return!1;return!0}(C,A?d:y().locals,A)?(C=A?d:y().locals,v(y())):e.hot.invalidate()})}e.hot.dispose(function(){v()});const E=y()&&y().locals?y().locals:void 0},6510:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n=o.p+"d1861a6e2649b4f97f31196829ac89c3.mid"},6592:(e,t,o)=>{var n=o(5328),r=o(6657)(n);r.push([e.id,'.tl_c1qJYTb5yZEiHwKkb{border:1px solid #d3d3d3;padding:0;outline:none;transition:background-color .2s;border-radius:2px;font-size:9px}.tl_c1qJYTb5yZEiHwKkb:focus{border-color:gray}.xedOmG_wUpF499FfpxBO{display:flex;position:relative}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb,.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e{display:flex;flex:1;flex-direction:column}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb{z-index:1;align-items:center;justify-content:end;font-family:Arial;font-size:9px}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb i{margin:.5em 0;font-size:larger;font-weight:bold}.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e{pointer-events:none}.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e:first-of-type,.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e:last-of-type{flex-grow:.5}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0,.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o{position:absolute;display:flex;flex-direction:row;flex-grow:1}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0{width:100%;height:100%}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0 .tl_c1qJYTb5yZEiHwKkb{background-color:#fff;color:#000}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0 .tl_c1qJYTb5yZEiHwKkb.C1VXh_7oUTVqX2wuk8zM{border-color:red}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o{width:100%;height:55%}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o .tl_c1qJYTb5yZEiHwKkb{background-color:#000;color:#ccc}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o .tl_c1qJYTb5yZEiHwKkb.C1VXh_7oUTVqX2wuk8zM{border-color:red}._8DbB5CERGA5bp_CPPh5{display:flex;position:relative;top:-100px;height:0;background-color:#fff;opacity:.8}._8DbB5CERGA5bp_CPPh5 .xedOmG_wUpF499FfpxBO{flex-grow:1;height:80px}.to5WNLg1CzgQJEw4BWl7{position:relative;display:flex;flex-direction:row;width:100%;height:500px;overflow-y:scroll}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_{position:absolute;font-size:1.7857142857vw;border:1px solid red;box-sizing:border-box;background:rgba(255,128,0,.2);color:red;opacity:.8;width:2em;margin:400px 0 0;padding:0;align-items:center;justify-content:center}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_.xI2VmWOcs2MgyyQUklLA{background:rgba(255,0,0,.6);color:#fff}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_:hover{opacity:1}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_ span{font-family:Arial;font-size:9px}.to5WNLg1CzgQJEw4BWl7 .iNXp4jf9N6exbktzLAso{display:flex;flex-direction:column;padding:360px 0;flex-grow:1;background:#fff url(\'data:image/svg+xml,        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" fill-opacity=".05" >        <rect x="100" width="100" height="100" />        <rect y="100" width="100" height="100" />        </svg>\');background-size:7.1428571429vw 72px}',""]),r.locals={Note:"tl_c1qJYTb5yZEiHwKkb",Octave:"xedOmG_wUpF499FfpxBO",Space:"vEdUZpIgLUgprvHGy89e",WhiteNotes:"MTvQk2t6H4kpI9hiG0N0",BlackNotes:"Y3ARd6LKLk7oRKYGHK5o",pressed:"C1VXh_7oUTVqX2wuk8zM",Keyboard:"_8DbB5CERGA5bp_CPPh5",Roll:"to5WNLg1CzgQJEw4BWl7",RollNote:"YSOWVtYln3cyrrmD8Of_",sharp:"xI2VmWOcs2MgyyQUklLA",Inner:"iNXp4jf9N6exbktzLAso"},e.exports=r},6727:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n=o.p+"875ae3b74407297f3a51860f1a0353b0.mid"},8293:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>$});var n=o(6364),r=o(4084),g=o(3638),p=o(821);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,g,p,m=[],u=!0,i=!1;try{if(g=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;u=!1}else for(;!(u=(n=g.call(o)).done)&&(m.push(n.value),m.length!==t);u=!0);}catch(e){i=!0,r=e}finally{try{if(!u&&null!=o.return&&(p=o.return(),Object(p)!==p))return}finally{if(i)throw r}}return m}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function i(e){var t=e.keyDown,o=e.keyUp,r=m((0,n.useState)([]),2),g=r[0],u=r[1],i=m((0,n.useState)(""),2),a=i[0],c=i[1];(0,n.useEffect)(function(){var e=function(){return u(function(e){return 0===e.length&&p.OK.inputs.length>0?c(p.OK.inputs[0].id):e.length>0&&0===p.OK.inputs.length&&c(""),p.OK.inputs.map(function(e){return{id:e.id,manufacturer:e.manufacturer,name:e.name,type:e.type}})})},t=function(t){var o=t.target,n=t.type;console.log({target:o,type:n}),e()};return p.OK.addListener("connected",t),p.OK.addListener("disconnected",t),p.OK.enable().then(e).catch(console.error),function(){p.OK.removeListener("connected",t),p.OK.removeListener("disconnected",t)}},[]);var l=(0,n.useMemo)(function(){return a?p.OK.getInputById(a):null},[a]);return(0,n.useEffect)(function(){if(l){var e=function(e){console.info(e),t(e.note.identifier)},n=function(e){console.info(e),o(e.note.identifier)};return l.addListener("noteon",e),l.addListener("noteoff",n),function(){l.removeListener("noteon",e),l.removeListener("noteoff",n)}}},[l]),n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"midi in:")),n.createElement("select",{value:a,onChange:(0,n.useCallback)(function(e){var t=e.target;return c(t.value)},[])},0===g.length&&n.createElement("option",{value:""},"none"),g.map(function(e){var t=e.id,o=e.manufacturer,r=e.name,g=e.type;return n.createElement("option",{key:t,value:t},o," ",r," (",g,")")})))}var a=o(395),c=o.n(a),l=o(5622);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach(function(t){y(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function y(e,t,o){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,g,p,m=[],u=!0,i=!1;try{if(g=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;u=!1}else for(;!(u=(n=g.call(o)).done)&&(m.push(n.value),m.length!==t);u=!0);}catch(e){i=!0,r=e}finally{try{if(!u&&null!=o.return&&(p=o.return(),Object(p)!==p))return}finally{if(i)throw r}}return m}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return A(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}var C=Object.entries({C5:"a","C#5":"w",D5:"s","D#5":"e",E5:"d",F5:"f","F#5":"t",G5:"g","G#5":"y",A5:"h","A#5":"u",B5:"j",C6:"k","C#6":"o",D6:"l","D#6":"p",E6:";",F6:"'"}).reduce(function(e,t){var o=b(t,2),n=o[0],g=o[1];return Object.assign(e,y({},r.Midi(n).transpose(-24).toNote(),g))},{}),E=function(){var e=b((0,n.useState)(function(){return[]}),2),t=e[0],o=e[1],r=Object.entries(C).reduce(function(e,t){var o=b(t,2),n=o[0],r=o[1];return Object.assign(e,y({},{";":"Semicolon","'":"Quote"}[r]||"Key".concat(r.toUpperCase()),n))},{});return(0,n.useEffect)(function(){var e=function(e){return r[e.code]&&o(function(t){return t.concat(r[e.code])})},t=function(e){return r[e.code]&&o(function(t){return t.filter(function(t){return t!==r[e.code]})})};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[o]),t};function F(e){var t=e.note,o=e.keyDown,r=e.keyUp,g=e.pressed,p=b((0,n.useState)({enter:!1,press:!1}),2),m=p[0],u=m.enter,i=m.press,a=p[1],s=(0,n.useMemo)(function(){return g||u&&i},[u,i,g]);return(0,n.useEffect)(function(){return s?o(t):r(t)},[s]),t?n.createElement("span",{className:c()(l.default.Note,s&&l.default.pressed),onMouseEnter:function(e){return a(function(t){return d(d({},t),{},{enter:!0,press:!!e.buttons})})},onMouseLeave:function(){return a(function(e){return d(d({},e),{},{enter:!1})})},onMouseDown:function(e){return e.preventDefault(),a(function(e){return d(d({},e),{},{press:!0})})},onMouseUp:function(){return a(function(e){return d(d({},e),{},{press:!1})})}},C[t]&&n.createElement("i",null,C[t]),t):n.createElement("span",{className:l.default.Space})}function D(e){var t=e.octave,o=void 0===t?1:t,g=e.keys,p=e.keyDown,m=e.keyUp,u=12*o,i=[0,2,4,5,7,9,11].map(function(e){return e+u}),a=[0,1,3,0,6,8,10,0].map(function(e){return e?e+u:0});return n.createElement("div",{className:l.default.Octave},n.createElement("div",{className:l.default.WhiteNotes},i.map(function(e){return r.Midi(e).toNote()}).map(function(e,t){return n.createElement(F,{key:t,note:e,keyDown:p,keyUp:m,pressed:g.includes(e)})})),n.createElement("div",{className:l.default.BlackNotes},a.map(function(e){return e&&r.Midi(e).toNote()}).map(function(e,t){return n.createElement(F,{key:t,note:e,keyDown:p,keyUp:m,pressed:g.includes(e)})})))}function G(e){var t,o=e.rootoctave,r=void 0===o?4:o,g=e.octaves,p=void 0===g?4:g,m=e.keyDown,u=e.keyUp,i=e.pressed,a=E();return n.createElement("div",{className:l.default.Keyboard},(t=Array(p),function(e){if(Array.isArray(e))return A(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e,t){return t+r}).map(function(e,t){return n.createElement(D,{key:t,octave:e,keys:a.concat(i),keyDown:m,keyUp:u})}))}var h=o(9739),w=o(7925),k=o(5322),O=o(7011),x=o(4291),B=o(8546),S=o(9422),j=o(9797),T=o(4816),_=o(1664),U=["note","durationTicks"];function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,g,p,m=[],u=!0,i=!1;try{if(g=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;u=!1}else for(;!(u=(n=g.call(o)).done)&&(m.push(n.value),m.length!==t);u=!0);}catch(e){i=!0,r=e}finally{try{if(!u&&null!=o.return&&(p=o.return(),Object(p)!==p))return}finally{if(i)throw r}}return m}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},K.apply(null,arguments)}function P(){var e,t,o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",r=o.toStringTag||"@@toStringTag";function g(o,n,r,g){var u=n&&n.prototype instanceof m?n:m,i=Object.create(u.prototype);return I(i,"_invoke",function(o,n,r){var g,m,u,i=0,a=r||[],c=!1,l={p:0,n:0,v:e,a:s,f:s.bind(e,4),d:function(t,o){return g=t,m=0,u=e,l.n=o,p}};function s(o,n){for(m=o,u=n,t=0;!c&&i&&!r&&t<a.length;t++){var r,g=a[t],s=l.p,f=g[2];o>3?(r=f===n)&&(u=g[(m=g[4])?5:(m=3,3)],g[4]=g[5]=e):g[0]<=s&&((r=o<2&&s<g[1])?(m=0,l.v=n,l.n=g[1]):s<f&&(r=o<3||g[0]>n||n>f)&&(g[4]=o,g[5]=n,l.n=f,m=0))}if(r||o>1)return p;throw c=!0,n}return function(r,a,f){if(i>1)throw TypeError("Generator is already running");for(c&&1===a&&s(a,f),m=a,u=f;(t=m<2?e:u)||!c;){g||(m?m<3?(m>1&&(l.n=-1),s(m,u)):l.n=u:l.v=u);try{if(i=2,g){if(m||(r="next"),t=g[r]){if(!(t=t.call(g,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,m<2&&(m=0)}else 1===m&&(t=g.return)&&t.call(g),m<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),m=1);g=e}else if((t=(c=l.n<0)?u:o.call(n,l))!==p)break}catch(t){g=e,m=1,u=t}finally{i=1}}return{value:t,done:c}}}(o,r,g),!0),i}var p={};function m(){}function u(){}function i(){}t=Object.getPrototypeOf;var a=[][n]?t(t([][n]())):(I(t={},n,function(){return this}),t),c=i.prototype=m.prototype=Object.create(a);function l(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,I(e,r,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=i,I(c,"constructor",i),I(i,"constructor",u),u.displayName="GeneratorFunction",I(i,r,"GeneratorFunction"),I(c),I(c,r,"Generator"),I(c,n,function(){return this}),I(c,"toString",function(){return"[object Generator]"}),(P=function(){return{w:g,m:l}})()}function I(e,t,o,n){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}I=function(e,t,o,n){if(t)r?r(e,t,{value:o,enumerable:!n,configurable:!n,writable:!n}):e[t]=o;else{var g=function(t,o){I(e,t,function(e){return this._invoke(t,o,e)})};g("next",0),g("throw",1),g("return",2)}},I(e,t,o,n)}function M(e,t,o,n,r,g,p){try{var m=e[g](p),u=m.value}catch(e){return void o(e)}m.done?t(u):Promise.resolve(u).then(n,r)}var Y=function(e){return h.c.create(function(t){requestAnimationFrame(function(o){var n=e?(o-e.frameStartTime)/1e3:0;t.next({frameStartTime:o,deltaTime:n})})})},H=function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return e+((t=e+7)-t%o)/o+function(e){return(e-e%o)/o}(e)},W=[o(2444).A,o(6510).A,o(6727).A,o(2382).A],R=(0,_.$)(function(){var e,t=(e=P().m(function e(t){var o;return P().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,T.Midi.fromUrl(t);case 1:return e.a(2,e.v);case 2:return e.p=2,o=e.v,console.error(o),e.a(2,{name:o.message,duration:0,durationTicks:0,tracks:[]})}},e,null,[[0,2]])}),function(){var t=this,o=arguments;return new Promise(function(n,r){var g=e.apply(t,o);function p(e){M(g,n,r,p,m,"next",e)}function m(e){M(g,n,r,p,m,"throw",e)}p(void 0)})});return function(e){return t.apply(this,arguments)}}());function z(e){var t=e.note,o=e.durationTicks,r=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;o[n]=e[n]}return o}(e,t);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(e);for(n=0;n<g.length;n++)o=g[n],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,U);return n.createElement("button",K({className:c()(l.default.RollNote,t.name.match(/#/)&&l.default.sharp),style:{position:"absolute",top:"".concat((o-t.ticks-t.durationTicks)/10,"px"),left:"".concat(H(t.midi-48),"em"),height:"".concat(t.durationTicks/10,"px")}},r),n.createElement("span",null,t.name))}function J(e){var t=e.notes$,o=L((0,n.useState)(function(){return W}),2),r=o[0],p=o[1],m=L((0,n.useState)(function(){return r[0]}),2),u=m[0],i=m[1],a=R.read(u),c=a.name,s=a.duration,f=a.durationTicks,d=a.tracks,y=L((0,n.useState)(function(){return[0]}),2),b=y[0],v=y[1],A=L((0,n.useState)(1),2),C=A[0],E=A[1],F=L((0,n.useState)(!1),2),D=F[0],G=F[1],h=(0,n.useRef)(C),T=(0,n.useRef)(null),_=(0,n.useMemo)(function(){return new g.B},[]),U=(0,n.useMemo)(function(){return new g.B},[]),N=(0,n.useMemo)(function(){return(0,w.of)(void 0).pipe((0,k.f)(function(e){return Y(e)}),(0,O.p)(function(e){return void 0!==e}),(0,x.T)(function(e){return e.deltaTime}),(0,B.u)())},[]);console.log({name:c,duration:s,tracks:d,selected:b}),(0,n.useEffect)(function(){h.current=C},[N,h,C]),(0,n.useEffect)(function(){var e=N.pipe((0,S.E)(_),(0,O.p)(function(e){var t=L(e,2);return t[0],t[1]})).subscribe(function(){if(T.current){var e=T.current;e.scrollTop>0?e.scrollTop-=h.current:_.next(!1)}});return function(){return e.unsubscribe()}},[N,h]),(0,n.useEffect)(function(){var e=U.pipe((0,x.T)(function(e){return e.scrollTop}),(0,j.J)(),(0,x.T)(function(e){var t=L(e,2),o=t[0],n=t[1];return d.filter(function(e,t){return b.includes(t)}).map(function(e){return e.notes.filter(function(e){return t=(f-e.ticks)/10,n<=t&&t<o;var t})}).flat()})).subscribe(function(e){return t.next(e)});return function(){return e.unsubscribe()}},[U,t,d,b,f]),(0,n.useEffect)(function(){var e=_.subscribe(function(e){var t=T.current;e&&t&&0===t.scrollTop&&(t.scrollTop=t.scrollHeight),G(e)});return function(){return e.unsubscribe()}},[_]);var K=(0,n.useCallback)(function(e){var t=e.target;return v(function(e){return Boolean(console.log({selected:e,value:t.value}))||t.checked?e.concat(Number(t.value)):e.filter(function(e){return e!==Number(t.value)})})},[v]);return n.createElement("div",null,n.createElement("fieldset",null,n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"Midi"),n.createElement("select",{value:u,onChange:(0,n.useCallback)(function(e){var t=e.target;return i(t.value),v([0])},[])},r.map(function(e,t){return n.createElement("option",{key:t,value:e},e)}))),n.createElement("button",{onClick:function(e){return e.stopPropagation(),function(e){return(null==e?void 0:e.match(/.+$/))&&(p(function(t){return t.concat(e)}),i(e),v([0]))}(prompt("Midi file URL","https://tonejs.github.io/Midi/examples/bach_846.mid"))}},"add")),n.createElement("div",null,n.createElement("span",null,"Track"),d.map(function(e,t){var o=e.name;return n.createElement("label",{key:t},n.createElement("input",{type:"checkbox",value:t,checked:b.includes(t),onChange:K}),n.createElement("span",null,"#".concat(t," ").concat(o)))}),n.createElement("label",null,n.createElement("input",{type:"checkbox",checked:b.length===d.length,onChange:(0,n.useCallback)(function(e){var t=e.target;return v(t.checked?d.map(function(e,t){return t}):[])},[d])}),n.createElement("strong",null,"toggle all"))),n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"Speed"),n.createElement("select",{value:C,onChange:(0,n.useCallback)(function(e){var t=e.target;return E(Number(t.value))},[])},[1,2,3,4].map(function(e,t){return n.createElement("option",{key:t,value:e},e)}))),D?n.createElement("button",{onClick:function(e){return e.stopPropagation(),_.next(!1)}},"stop"):n.createElement("button",{onClick:function(e){return e.stopPropagation(),_.next(!0)}},"play"))),n.createElement("div",{ref:T,className:l.default.Roll,onScroll:(0,n.useCallback)(function(e){var t=e.target;return U.next(t)},[])},n.createElement("div",{className:l.default.Inner,style:{height:"".concat(f/10,"px")}},d.filter(function(e,t){return b.includes(t)}).map(function(e){return e.notes.map(function(e,o){return n.createElement(z,{key:o,note:e,durationTicks:f,onMouseDown:function(o){return o.preventDefault(),t.next([e])}})})}))))}function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,g,p,m=[],u=!0,i=!1;try{if(g=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;u=!1}else for(;!(u=(n=g.call(o)).done)&&(m.push(n.value),m.length!==t);u=!0);}catch(e){i=!0,r=e}finally{try{if(!u&&null!=o.return&&(p=o.return(),Object(p)!==p))return}finally{if(i)throw r}}return m}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}var V={"bass-electric":{"A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]","A#5":"As5.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]"},bassoon:{A3:"A3.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",E3:"E3.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]"},cello:{E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]"},clarinet:{D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]",D2:"D2.[mp3|ogg]"},contrabass:{C1:"C1.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]",D1:"D1.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]","F#0":"Fs0.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]",G0:"G0.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]",A1:"A1.[mp3|ogg]","A#0":"As0.[mp3|ogg]",B2:"B2.[mp3|ogg]"},flute:{A5:"A5.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]"},"french-horn":{D2:"D2.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F4:"F4.[mp3|ogg]",G1:"G1.[mp3|ogg]",A0:"A0.[mp3|ogg]",A2:"A2.[mp3|ogg]",C1:"C1.[mp3|ogg]",C3:"C3.[mp3|ogg]"},"guitar-acoustic":{F3:"F3.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]","A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D1:"D1.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]"},"guitar-electric":{"D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]",E2:"E2.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]"},"guitar-nylon":{"F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",G3:"G3.[mp3|ogg]",G5:"G3.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]","G#5":"Gs5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]","A#5":"As5.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D5:"D5.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]"},harmonium:{C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]"},harp:{C5:"C5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D4:"D4.[mp3|ogg]",D6:"D6.[mp3|ogg]",D7:"D7.[mp3|ogg]",E1:"E1.[mp3|ogg]",E3:"E3.[mp3|ogg]",E5:"E5.[mp3|ogg]",F2:"F2.[mp3|ogg]",F4:"F4.[mp3|ogg]",F6:"F6.[mp3|ogg]",F7:"F7.[mp3|ogg]",G1:"G1.[mp3|ogg]",G3:"G3.[mp3|ogg]",G5:"G5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A4:"A4.[mp3|ogg]",A6:"A6.[mp3|ogg]",B1:"B1.[mp3|ogg]",B3:"B3.[mp3|ogg]",B5:"B5.[mp3|ogg]",B6:"B6.[mp3|ogg]",C3:"C3.[mp3|ogg]"},organ:{C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",C1:"C1.[mp3|ogg]",C2:"C2.[mp3|ogg]"},piano:{A0:"A0.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",A6:"A6.[mp3|ogg]","A#0":"As0.[mp3|ogg]","A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]","A#5":"As5.[mp3|ogg]","A#6":"As6.[mp3|ogg]",B0:"B0.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]",B5:"B5.[mp3|ogg]",B6:"B6.[mp3|ogg]",C0:"C0.[mp3|ogg]",C1:"C1.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",C7:"C7.[mp3|ogg]","C#0":"Cs0.[mp3|ogg]","C#1":"Cs1.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]","C#6":"Cs6.[mp3|ogg]",D0:"D0.[mp3|ogg]",D1:"D1.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]",D6:"D6.[mp3|ogg]","D#0":"Ds0.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]","D#6":"Ds6.[mp3|ogg]",E0:"E0.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",E6:"E6.[mp3|ogg]",F0:"F0.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]",F5:"F5.[mp3|ogg]",F6:"F6.[mp3|ogg]","F#0":"Fs0.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]","F#6":"Fs6.[mp3|ogg]",G0:"G0.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]","G#0":"Gs0.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]","G#5":"Gs5.[mp3|ogg]","G#6":"Gs6.[mp3|ogg]"},saxophone:{"D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]"},trombone:{"A#2":"As2.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]","C#1":"Cs1.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","A#0":"As0.[mp3|ogg]","A#1":"As1.[mp3|ogg]"},trumpet:{C5:"C5.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]",G3:"G3.[mp3|ogg]",A2:"A2.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#3":"As3.[mp3|ogg]",C3:"C3.[mp3|ogg]"},tuba:{"A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]",F0:"F0.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]","A#0":"As0.[mp3|ogg]"},violin:{A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",A6:"A6.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",C7:"C7.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",E6:"E6.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]"},xylophone:{C7:"C7.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]"}},X=function(e){var t=Z((0,n.useState)(null),2),o=t[0],g=t[1];return(0,n.useEffect)(function(){var t=new r.Sampler({baseUrl:"https://nbrosowsky.github.io/tonejs-instruments/samples/".concat(e,"/"),urls:Object.entries(V[e]).reduce(function(e,t){var o,n,r,g=Z(t,2),p=g[0],m=g[1];return Object.assign(e,(o={},n=p,r=m.replace("[mp3|ogg]","mp3"),(n=function(e){var t=function(e){if("object"!=Q(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=Q(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Q(t)?t:t+""}(n))in o?Object.defineProperty(o,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[n]=r,o))},{}),release:1,onload:function(){g(t)}}).toDestination()},[e]),o};function $(){var e=(0,n.useMemo)(function(){return new g.B},[]),t=Z((0,n.useState)(function(){return[]}),2),o=t[0],p=t[1],m=Z((0,n.useState)("guitar-nylon"),2),u=m[0],a=m[1],c=X(u),l=(0,n.useCallback)(function(e){return c&&c.triggerAttack(e),p(function(t){return t.concat(e)})},[c]),s=(0,n.useCallback)(function(e){return c&&c.triggerRelease(e),p(function(t){return t.filter(function(t){return t!==e})})},[c]);return(0,n.useEffect)(function(){var t=e.subscribe(function(e){return t=r.now(),e.forEach(function(e){c&&c.triggerAttackRelease(e.name,e.duration,t,e.velocity),r.Draw.schedule(function(){p(function(t){return t.concat(e.name)})},t),r.Draw.schedule(function(){p(function(t){return t.filter(function(t){return t!==e.name})})},t+e.duration)});var t});return function(){return t.unsubscribe()}},[e,c,p]),n.createElement("div",null,"Piano",n.createElement("select",{value:u,onChange:(0,n.useCallback)(function(e){var t=e.target;return a(t.value)},[])},Object.keys(V).map(function(e,t){return n.createElement("option",{key:t,value:e},e)})),n.createElement(i,{keyDown:l,keyUp:s}),n.createElement(J,{notes$:e}),c&&n.createElement(G,{keyDown:l,keyUp:s,pressed:o}))}}}]);