/*! For license information please see 436.js.LICENSE.txt */
(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[436],{7436:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>$});var n=o(2155),r=o(4084),g=o(5479),i=o(821);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,g,i,a=[],p=!0,u=!1;try{if(g=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;p=!1}else for(;!(p=(n=g.call(o)).done)&&(a.push(n.value),a.length!==t);p=!0);}catch(e){u=!0,r=e}finally{try{if(!p&&null!=o.return&&(i=o.return(),Object(i)!==i))return}finally{if(u)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function u(e){var t=e.keyDown,o=e.keyUp,r=a((0,n.useState)([]),2),g=r[0],p=r[1],u=a((0,n.useState)(""),2),c=u[0],m=u[1];(0,n.useEffect)((function(){var e=function(){return p((function(e){return 0===e.length&&i.OK.inputs.length>0?m(i.OK.inputs[0].id):e.length>0&&0===i.OK.inputs.length&&m(""),i.OK.inputs.map((function(e){return{id:e.id,manufacturer:e.manufacturer,name:e.name,type:e.type}}))}))},t=function(t){var o=t.target,n=t.type;console.log({target:o,type:n}),e()};return i.OK.addListener("connected",t),i.OK.addListener("disconnected",t),i.OK.enable().then(e).catch(console.error),function(){i.OK.removeListener("connected",t),i.OK.removeListener("disconnected",t)}}),[]);var l=(0,n.useMemo)((function(){return c?i.OK.getInputById(c):null}),[c]);return(0,n.useEffect)((function(){if(l){var e=function(e){console.info(e),t(e.note.identifier)},n=function(e){console.info(e),o(e.note.identifier)};return l.addListener("noteon",e),l.addListener("noteoff",n),function(){l.removeListener("noteon",e),l.removeListener("noteoff",n)}}}),[l]),n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"midi in:")),n.createElement("select",{value:c,onChange:(0,n.useCallback)((function(e){var t=e.target;return m(t.value)}),[])},0===g.length&&n.createElement("option",{value:""},"none"),g.map((function(e){var t=e.id,o=e.manufacturer,r=e.name,g=e.type;return n.createElement("option",{key:t,value:t},o," ",r," (",g,")")}))))}var c=o(395),m=o.n(c),l=o(6421);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){y(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function y(e,t,o){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,g,i,a=[],p=!0,u=!1;try{if(g=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;p=!1}else for(;!(p=(n=g.call(o)).done)&&(a.push(n.value),a.length!==t);p=!0);}catch(e){u=!0,r=e}finally{try{if(!p&&null!=o.return&&(i=o.return(),Object(i)!==i))return}finally{if(u)throw r}}return a}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return b(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}var A=Object.entries({C5:"a","C#5":"w",D5:"s","D#5":"e",E5:"d",F5:"f","F#5":"t",G5:"g","G#5":"y",A5:"h","A#5":"u",B5:"j",C6:"k","C#6":"o",D6:"l","D#6":"p",E6:";",F6:"'"}).reduce((function(e,t){var o=v(t,2),n=o[0],g=o[1];return Object.assign(e,y({},r.Midi(n).transpose(-24).toNote(),g))}),{}),C=function(){var e=v((0,n.useState)((function(){return[]})),2),t=e[0],o=e[1],r=Object.entries(A).reduce((function(e,t){var o=v(t,2),n=o[0],r=o[1];return Object.assign(e,y({},{";":"Semicolon","'":"Quote"}[r]||"Key".concat(r.toUpperCase()),n))}),{});return(0,n.useEffect)((function(){var e=function(e){return r[e.code]&&o((function(t){return t.concat(r[e.code])}))},t=function(e){return r[e.code]&&o((function(t){return t.filter((function(t){return t!==r[e.code]}))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[o]),t};function E(e){var t=e.note,o=e.keyDown,r=e.keyUp,g=e.pressed,i=v((0,n.useState)({enter:!1,press:!1}),2),a=i[0],p=a.enter,u=a.press,c=i[1],s=(0,n.useMemo)((function(){return g||p&&u}),[p,u,g]);return(0,n.useEffect)((function(){return s?o(t):r(t)}),[s]),t?n.createElement("span",{className:m()(l.default.Note,s&&l.default.pressed),onMouseEnter:function(e){return c((function(t){return d(d({},t),{},{enter:!0,press:!!e.buttons})}))},onMouseLeave:function(){return c((function(e){return d(d({},e),{},{enter:!1})}))},onMouseDown:function(e){return e.preventDefault(),c((function(e){return d(d({},e),{},{press:!0})}))},onMouseUp:function(){return c((function(e){return d(d({},e),{},{press:!1})}))}},A[t]&&n.createElement("i",null,A[t]),t):n.createElement("span",{className:l.default.Space})}function F(e){var t=e.octave,o=void 0===t?1:t,g=e.keys,i=e.keyDown,a=e.keyUp,p=12*o,u=[0,2,4,5,7,9,11].map((function(e){return e+p})),c=[0,1,3,0,6,8,10,0].map((function(e){return e?e+p:0}));return n.createElement("div",{className:l.default.Octave},n.createElement("div",{className:l.default.WhiteNotes},u.map((function(e){return r.Midi(e).toNote()})).map((function(e,t){return n.createElement(E,{key:t,note:e,keyDown:i,keyUp:a,pressed:g.includes(e)})}))),n.createElement("div",{className:l.default.BlackNotes},c.map((function(e){return e&&r.Midi(e).toNote()})).map((function(e,t){return n.createElement(E,{key:t,note:e,keyDown:i,keyUp:a,pressed:g.includes(e)})}))))}function D(e){var t,o=e.rootoctave,r=void 0===o?4:o,g=e.octaves,i=void 0===g?4:g,a=e.keyDown,p=e.keyUp,u=e.pressed,c=C();return n.createElement("div",{className:l.default.Keyboard},(t=Array(i),function(e){if(Array.isArray(e))return b(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return t+r})).map((function(e,t){return n.createElement(F,{key:t,octave:e,keys:c.concat(u),keyDown:a,keyUp:p})})))}var G=o(2020),w=o(3564),k=o(7425),x=o(3210),O=o(6548),B=o(5017),S=o(8019),L=o(9300),j=o(4816),_=o(525);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}var U=["note","durationTicks"];function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,g,i,a=[],p=!0,u=!1;try{if(g=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;p=!1}else for(;!(p=(n=g.call(o)).done)&&(a.push(n.value),a.length!==t);p=!0);}catch(e){u=!0,r=e}finally{try{if(!p&&null!=o.return&&(i=o.return(),Object(i)!==i))return}finally{if(u)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},P.apply(null,arguments)}function I(){I=function(){return t};var e,t={},o=Object.prototype,n=o.hasOwnProperty,r=Object.defineProperty||function(e,t,o){e[t]=o.value},g="function"==typeof Symbol?Symbol:{},i=g.iterator||"@@iterator",a=g.asyncIterator||"@@asyncIterator",p=g.toStringTag||"@@toStringTag";function u(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,o){return e[t]=o}}function c(e,t,o,n){var g=t&&t.prototype instanceof v?t:v,i=Object.create(g.prototype),a=new B(n||[]);return r(i,"_invoke",{value:w(e,o,a)}),i}function m(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var l="suspendedStart",s="suspendedYield",f="executing",d="completed",y={};function v(){}function h(){}function b(){}var A={};u(A,i,(function(){return this}));var C=Object.getPrototypeOf,E=C&&C(C(S([])));E&&E!==o&&n.call(E,i)&&(A=E);var F=b.prototype=v.prototype=Object.create(A);function D(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function G(e,t){function o(r,g,i,a){var p=m(e[r],e,g);if("throw"!==p.type){var u=p.arg,c=u.value;return c&&"object"==T(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){o("next",e,i,a)}),(function(e){o("throw",e,i,a)})):t.resolve(c).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,a)}))}a(p.arg)}var g;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return g=g?g.then(r,r):r()}})}function w(t,o,n){var r=l;return function(g,i){if(r===f)throw Error("Generator is already running");if(r===d){if("throw"===g)throw i;return{value:e,done:!0}}for(n.method=g,n.arg=i;;){var a=n.delegate;if(a){var p=k(a,n);if(p){if(p===y)continue;return p}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=m(t,o,n);if("normal"===u.type){if(r=n.done?d:s,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function k(t,o){var n=o.method,r=t.iterator[n];if(r===e)return o.delegate=null,"throw"===n&&t.iterator.return&&(o.method="return",o.arg=e,k(t,o),"throw"===o.method)||"return"!==n&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var g=m(r,t.iterator,o.arg);if("throw"===g.type)return o.method="throw",o.arg=g.arg,o.delegate=null,y;var i=g.arg;return i?i.done?(o[t.resultName]=i.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=e),o.delegate=null,y):i:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(t){if(t||""===t){var o=t[i];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,g=function o(){for(;++r<t.length;)if(n.call(t,r))return o.value=t[r],o.done=!1,o;return o.value=e,o.done=!0,o};return g.next=g}}throw new TypeError(T(t)+" is not iterable")}return h.prototype=b,r(F,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:h,configurable:!0}),h.displayName=u(b,p,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,p,"GeneratorFunction")),e.prototype=Object.create(F),e},t.awrap=function(e){return{__await:e}},D(G.prototype),u(G.prototype,a,(function(){return this})),t.AsyncIterator=G,t.async=function(e,o,n,r,g){void 0===g&&(g=Promise);var i=new G(c(e,o,n,r),g);return t.isGeneratorFunction(o)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},D(F),u(F,p,"Generator"),u(F,i,(function(){return this})),u(F,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),o=[];for(var n in t)o.push(n);return o.reverse(),function e(){for(;o.length;){var n=o.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=S,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function r(n,r){return a.type="throw",a.arg=t,o.next=n,r&&(o.method="next",o.arg=e),!!r}for(var g=this.tryEntries.length-1;g>=0;--g){var i=this.tryEntries[g],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var p=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(p&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(p){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var g=r;break}}g&&("break"===e||"continue"===e)&&g.tryLoc<=t&&t<=g.finallyLoc&&(g=null);var i=g?g.completion:{};return i.type=e,i.arg=t,g?(this.method="next",this.next=g.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),O(o),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var r=n.arg;O(o)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,o,n){return this.delegate={iterator:S(t),resultName:o,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function M(e,t,o,n,r,g,i){try{var a=e[g](i),p=a.value}catch(e){return void o(e)}a.done?t(p):Promise.resolve(p).then(n,r)}var Y=function(e){return G.c.create((function(t){requestAnimationFrame((function(o){var n=e?(o-e.frameStartTime)/1e3:0;t.next({frameStartTime:o,deltaTime:n})}))}))},H=function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return e+((t=e+7)-t%o)/o+function(e){return(e-e%o)/o}(e)},W=[o(2657).A,o(8065).A,o(2558).A,o(6101).A],R=(0,_.$)(function(){var e,t=(e=I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.Midi.fromUrl(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{name:e.t0.message,duration:0,durationTicks:0,tracks:[]});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,o=arguments;return new Promise((function(n,r){var g=e.apply(t,o);function i(e){M(g,n,r,i,a,"next",e)}function a(e){M(g,n,r,i,a,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}());function z(e){var t=e.note,o=e.durationTicks,r=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;o[n]=e[n]}return o}(e,t);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(e);for(n=0;n<g.length;n++)o=g[n],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,U);return n.createElement("button",P({className:m()(l.default.RollNote,t.name.match(/#/)&&l.default.sharp),style:{position:"absolute",top:"".concat((o-t.ticks-t.durationTicks)/10,"px"),left:"".concat(H(t.midi-48),"em"),height:"".concat(t.durationTicks/10,"px")}},r),n.createElement("span",null,t.name))}function J(e){var t=e.notes$,o=N((0,n.useState)((function(){return W})),2),r=o[0],i=o[1],a=N((0,n.useState)((function(){return r[0]})),2),p=a[0],u=a[1],c=R.read(p),m=c.name,s=c.duration,f=c.durationTicks,d=c.tracks,y=N((0,n.useState)((function(){return[0]})),2),v=y[0],h=y[1],b=N((0,n.useState)(1),2),A=b[0],C=b[1],E=N((0,n.useState)(!1),2),F=E[0],D=E[1],G=(0,n.useRef)(A),j=(0,n.useRef)(null),_=(0,n.useMemo)((function(){return new g.B}),[]),T=(0,n.useMemo)((function(){return new g.B}),[]),U=(0,n.useMemo)((function(){return(0,w.of)(void 0).pipe((0,k.f)((function(e){return Y(e)})),(0,x.p)((function(e){return void 0!==e})),(0,O.T)((function(e){return e.deltaTime})),(0,B.u)())}),[]);console.log({name:m,duration:s,tracks:d,selected:v}),(0,n.useEffect)((function(){G.current=A}),[U,G,A]),(0,n.useEffect)((function(){var e=U.pipe((0,S.E)(_),(0,x.p)((function(e){var t=N(e,2);return t[0],t[1]}))).subscribe((function(){if(j.current){var e=j.current;e.scrollTop>0?e.scrollTop-=G.current:_.next(!1)}}));return function(){return e.unsubscribe()}}),[U,G]),(0,n.useEffect)((function(){var e=T.pipe((0,O.T)((function(e){return e.scrollTop})),(0,L.J)(),(0,O.T)((function(e){var t=N(e,2),o=t[0],n=t[1];return d.filter((function(e,t){return v.includes(t)})).map((function(e){return e.notes.filter((function(e){return t=(f-e.ticks)/10,n<=t&&t<o;var t}))})).flat()}))).subscribe((function(e){return t.next(e)}));return function(){return e.unsubscribe()}}),[T,t,d,v,f]),(0,n.useEffect)((function(){var e=_.subscribe((function(e){var t=j.current;e&&t&&0===t.scrollTop&&(t.scrollTop=t.scrollHeight),D(e)}));return function(){return e.unsubscribe()}}),[_]);var K=(0,n.useCallback)((function(e){var t=e.target;return h((function(e){return Boolean(console.log({selected:e,value:t.value}))||t.checked?e.concat(Number(t.value)):e.filter((function(e){return e!==Number(t.value)}))}))}),[h]);return n.createElement("div",null,n.createElement("fieldset",null,n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"Midi"),n.createElement("select",{value:p,onChange:(0,n.useCallback)((function(e){var t=e.target;return u(t.value),h([0])}),[])},r.map((function(e,t){return n.createElement("option",{key:t,value:e},e)})))),n.createElement("button",{onClick:function(e){return e.stopPropagation(),function(e){return(null==e?void 0:e.match(/.+$/))&&(i((function(t){return t.concat(e)})),u(e),h([0]))}(prompt("Midi file URL","https://tonejs.github.io/Midi/examples/bach_846.mid"))}},"add")),n.createElement("div",null,n.createElement("span",null,"Track"),d.map((function(e,t){var o=e.name;return n.createElement("label",{key:t},n.createElement("input",{type:"checkbox",value:t,checked:v.includes(t),onChange:K}),n.createElement("span",null,"#".concat(t," ").concat(o)))})),n.createElement("label",null,n.createElement("input",{type:"checkbox",checked:v.length===d.length,onChange:(0,n.useCallback)((function(e){var t=e.target;return h(t.checked?d.map((function(e,t){return t})):[])}),[d])}),n.createElement("strong",null,"toggle all"))),n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"Speed"),n.createElement("select",{value:A,onChange:(0,n.useCallback)((function(e){var t=e.target;return C(Number(t.value))}),[])},[1,2,3,4].map((function(e,t){return n.createElement("option",{key:t,value:e},e)})))),F?n.createElement("button",{onClick:function(e){return e.stopPropagation(),_.next(!1)}},"stop"):n.createElement("button",{onClick:function(e){return e.stopPropagation(),_.next(!0)}},"play"))),n.createElement("div",{ref:j,className:l.default.Roll,onScroll:(0,n.useCallback)((function(e){var t=e.target;return T.next(t)}),[])},n.createElement("div",{className:l.default.Inner,style:{height:"".concat(f/10,"px")}},d.filter((function(e,t){return v.includes(t)})).map((function(e){return e.notes.map((function(e,o){return n.createElement(z,{key:o,note:e,durationTicks:f,onMouseDown:function(o){return o.preventDefault(),t.next([e])}})}))})))))}function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,g,i,a=[],p=!0,u=!1;try{if(g=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;p=!1}else for(;!(p=(n=g.call(o)).done)&&(a.push(n.value),a.length!==t);p=!0);}catch(e){u=!0,r=e}finally{try{if(!p&&null!=o.return&&(i=o.return(),Object(i)!==i))return}finally{if(u)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}var V={"bass-electric":{"A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]","A#5":"As5.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]"},bassoon:{A3:"A3.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",E3:"E3.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]"},cello:{E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]"},clarinet:{D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]",D2:"D2.[mp3|ogg]"},contrabass:{C1:"C1.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]",D1:"D1.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]","F#0":"Fs0.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]",G0:"G0.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]",A1:"A1.[mp3|ogg]","A#0":"As0.[mp3|ogg]",B2:"B2.[mp3|ogg]"},flute:{A5:"A5.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]"},"french-horn":{D2:"D2.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F4:"F4.[mp3|ogg]",G1:"G1.[mp3|ogg]",A0:"A0.[mp3|ogg]",A2:"A2.[mp3|ogg]",C1:"C1.[mp3|ogg]",C3:"C3.[mp3|ogg]"},"guitar-acoustic":{F3:"F3.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]","A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D1:"D1.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]"},"guitar-electric":{"D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]",E2:"E2.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]"},"guitar-nylon":{"F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",G3:"G3.[mp3|ogg]",G5:"G3.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]","G#5":"Gs5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]","A#5":"As5.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D5:"D5.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]"},harmonium:{C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]"},harp:{C5:"C5.[mp3|ogg]",D2:"D2.[mp3|ogg]",D4:"D4.[mp3|ogg]",D6:"D6.[mp3|ogg]",D7:"D7.[mp3|ogg]",E1:"E1.[mp3|ogg]",E3:"E3.[mp3|ogg]",E5:"E5.[mp3|ogg]",F2:"F2.[mp3|ogg]",F4:"F4.[mp3|ogg]",F6:"F6.[mp3|ogg]",F7:"F7.[mp3|ogg]",G1:"G1.[mp3|ogg]",G3:"G3.[mp3|ogg]",G5:"G5.[mp3|ogg]",A2:"A2.[mp3|ogg]",A4:"A4.[mp3|ogg]",A6:"A6.[mp3|ogg]",B1:"B1.[mp3|ogg]",B3:"B3.[mp3|ogg]",B5:"B5.[mp3|ogg]",B6:"B6.[mp3|ogg]",C3:"C3.[mp3|ogg]"},organ:{C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",C1:"C1.[mp3|ogg]",C2:"C2.[mp3|ogg]"},piano:{A0:"A0.[mp3|ogg]",A1:"A1.[mp3|ogg]",A2:"A2.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",A6:"A6.[mp3|ogg]","A#0":"As0.[mp3|ogg]","A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]","A#4":"As4.[mp3|ogg]","A#5":"As5.[mp3|ogg]","A#6":"As6.[mp3|ogg]",B0:"B0.[mp3|ogg]",B1:"B1.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",B4:"B4.[mp3|ogg]",B5:"B5.[mp3|ogg]",B6:"B6.[mp3|ogg]",C0:"C0.[mp3|ogg]",C1:"C1.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",C7:"C7.[mp3|ogg]","C#0":"Cs0.[mp3|ogg]","C#1":"Cs1.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]","C#5":"Cs5.[mp3|ogg]","C#6":"Cs6.[mp3|ogg]",D0:"D0.[mp3|ogg]",D1:"D1.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]",D5:"D5.[mp3|ogg]",D6:"D6.[mp3|ogg]","D#0":"Ds0.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]","D#4":"Ds4.[mp3|ogg]","D#5":"Ds5.[mp3|ogg]","D#6":"Ds6.[mp3|ogg]",E0:"E0.[mp3|ogg]",E1:"E1.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",E6:"E6.[mp3|ogg]",F0:"F0.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]",F5:"F5.[mp3|ogg]",F6:"F6.[mp3|ogg]","F#0":"Fs0.[mp3|ogg]","F#1":"Fs1.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]","F#5":"Fs5.[mp3|ogg]","F#6":"Fs6.[mp3|ogg]",G0:"G0.[mp3|ogg]",G1:"G1.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]","G#0":"Gs0.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]","G#5":"Gs5.[mp3|ogg]","G#6":"Gs6.[mp3|ogg]"},saxophone:{"D#4":"Ds4.[mp3|ogg]",E2:"E2.[mp3|ogg]",E3:"E3.[mp3|ogg]",E4:"E4.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]","F#2":"Fs2.[mp3|ogg]","F#3":"Fs3.[mp3|ogg]","F#4":"Fs4.[mp3|ogg]",G2:"G2.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","G#3":"Gs3.[mp3|ogg]","G#4":"Gs4.[mp3|ogg]",A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#2":"As2.[mp3|ogg]","A#3":"As3.[mp3|ogg]",B2:"B2.[mp3|ogg]",B3:"B3.[mp3|ogg]",C3:"C3.[mp3|ogg]",C4:"C4.[mp3|ogg]","C#2":"Cs2.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]","C#4":"Cs4.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]"},trombone:{"A#2":"As2.[mp3|ogg]",C2:"C2.[mp3|ogg]",C3:"C3.[mp3|ogg]","C#1":"Cs1.[mp3|ogg]","C#3":"Cs3.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]","D#2":"Ds2.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]","G#1":"Gs1.[mp3|ogg]","G#2":"Gs2.[mp3|ogg]","A#0":"As0.[mp3|ogg]","A#1":"As1.[mp3|ogg]"},trumpet:{C5:"C5.[mp3|ogg]",D4:"D4.[mp3|ogg]","D#3":"Ds3.[mp3|ogg]",F2:"F2.[mp3|ogg]",F3:"F3.[mp3|ogg]",F4:"F4.[mp3|ogg]",G3:"G3.[mp3|ogg]",A2:"A2.[mp3|ogg]",A4:"A4.[mp3|ogg]","A#3":"As3.[mp3|ogg]",C3:"C3.[mp3|ogg]"},tuba:{"A#1":"As1.[mp3|ogg]","A#2":"As2.[mp3|ogg]",D2:"D2.[mp3|ogg]",D3:"D3.[mp3|ogg]","D#1":"Ds1.[mp3|ogg]",F0:"F0.[mp3|ogg]",F1:"F1.[mp3|ogg]",F2:"F2.[mp3|ogg]","A#0":"As0.[mp3|ogg]"},violin:{A3:"A3.[mp3|ogg]",A4:"A4.[mp3|ogg]",A5:"A5.[mp3|ogg]",A6:"A6.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]",C7:"C7.[mp3|ogg]",E4:"E4.[mp3|ogg]",E5:"E5.[mp3|ogg]",E6:"E6.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]"},xylophone:{C7:"C7.[mp3|ogg]",G3:"G3.[mp3|ogg]",G4:"G4.[mp3|ogg]",G5:"G5.[mp3|ogg]",G6:"G6.[mp3|ogg]",C4:"C4.[mp3|ogg]",C5:"C5.[mp3|ogg]",C6:"C6.[mp3|ogg]"}},X=function(e){var t=Z((0,n.useState)(null),2),o=t[0],g=t[1];return(0,n.useEffect)((function(){var t=new r.Sampler({baseUrl:"https://nbrosowsky.github.io/tonejs-instruments/samples/".concat(e,"/"),urls:Object.entries(V[e]).reduce((function(e,t){var o,n,r,g=Z(t,2),i=g[0],a=g[1];return Object.assign(e,(o={},n=i,r=a.replace("[mp3|ogg]","mp3"),(n=function(e){var t=function(e){if("object"!=Q(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=Q(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Q(t)?t:t+""}(n))in o?Object.defineProperty(o,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[n]=r,o))}),{}),release:1,onload:function(){g(t)}}).toDestination()}),[e]),o};function $(){var e=(0,n.useMemo)((function(){return new g.B}),[]),t=Z((0,n.useState)((function(){return[]})),2),o=t[0],i=t[1],a=Z((0,n.useState)("guitar-nylon"),2),p=a[0],c=a[1],m=X(p),l=(0,n.useCallback)((function(e){return m&&m.triggerAttack(e),i((function(t){return t.concat(e)}))}),[m]),s=(0,n.useCallback)((function(e){return m&&m.triggerRelease(e),i((function(t){return t.filter((function(t){return t!==e}))}))}),[m]);return(0,n.useEffect)((function(){var t=e.subscribe((function(e){return t=r.now(),e.forEach((function(e){m&&m.triggerAttackRelease(e.name,e.duration,t,e.velocity),r.Draw.schedule((function(){i((function(t){return t.concat(e.name)}))}),t),r.Draw.schedule((function(){i((function(t){return t.filter((function(t){return t!==e.name}))}))}),t+e.duration)}));var t}));return function(){return t.unsubscribe()}}),[e,m,i]),n.createElement("div",null,"Piano",n.createElement("select",{value:p,onChange:(0,n.useCallback)((function(e){var t=e.target;return c(t.value)}),[])},Object.keys(V).map((function(e,t){return n.createElement("option",{key:t,value:e},e)}))),n.createElement(u,{keyDown:l,keyUp:s}),n.createElement(J,{notes$:e}),m&&n.createElement(D,{keyDown:l,keyUp:s,pressed:o}))}},6540:(e,t,o)=>{var n=o(3267),r=o(3484)(n);r.push([e.id,'.tl_c1qJYTb5yZEiHwKkb{border:1px solid #d3d3d3;padding:0;outline:none;transition:background-color .2s;border-radius:2px;font-size:9px}.tl_c1qJYTb5yZEiHwKkb:focus{border-color:gray}.xedOmG_wUpF499FfpxBO{display:flex;position:relative}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb,.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e{display:flex;flex:1;flex-direction:column}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb{z-index:1;align-items:center;justify-content:end;font-family:Arial;font-size:9px}.xedOmG_wUpF499FfpxBO .tl_c1qJYTb5yZEiHwKkb i{margin:.5em 0;font-size:larger;font-weight:bold}.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e{pointer-events:none}.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e:first-of-type,.xedOmG_wUpF499FfpxBO .vEdUZpIgLUgprvHGy89e:last-of-type{flex-grow:.5}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0,.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o{position:absolute;display:flex;flex-direction:row;flex-grow:1}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0{width:100%;height:100%}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0 .tl_c1qJYTb5yZEiHwKkb{background-color:#fff;color:#000}.xedOmG_wUpF499FfpxBO .MTvQk2t6H4kpI9hiG0N0 .tl_c1qJYTb5yZEiHwKkb.C1VXh_7oUTVqX2wuk8zM{border-color:red}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o{width:100%;height:55%}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o .tl_c1qJYTb5yZEiHwKkb{background-color:#000;color:#ccc}.xedOmG_wUpF499FfpxBO .Y3ARd6LKLk7oRKYGHK5o .tl_c1qJYTb5yZEiHwKkb.C1VXh_7oUTVqX2wuk8zM{border-color:red}._8DbB5CERGA5bp_CPPh5{display:flex;position:relative;top:-100px;height:0;background-color:#fff;opacity:.8}._8DbB5CERGA5bp_CPPh5 .xedOmG_wUpF499FfpxBO{flex-grow:1;height:80px}.to5WNLg1CzgQJEw4BWl7{position:relative;display:flex;flex-direction:row;width:100%;height:500px;overflow-y:scroll}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_{position:absolute;font-size:1.7857142857vw;border:1px solid red;box-sizing:border-box;background:rgba(255,128,0,.2);color:red;opacity:.8;width:2em;margin:400px 0 0;padding:0;align-items:center;justify-content:center}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_.xI2VmWOcs2MgyyQUklLA{background:rgba(255,0,0,.6);color:#fff}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_:hover{opacity:1}.to5WNLg1CzgQJEw4BWl7 .YSOWVtYln3cyrrmD8Of_ span{font-family:Arial;font-size:9px}.to5WNLg1CzgQJEw4BWl7 .iNXp4jf9N6exbktzLAso{display:flex;flex-direction:column;padding:360px 0;flex-grow:1;background:#fff url(\'data:image/svg+xml,        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" fill-opacity=".05" >        <rect x="100" width="100" height="100" />        <rect y="100" width="100" height="100" />        </svg>\');background-size:7.1428571429vw 72px}',""]),r.locals={Note:"tl_c1qJYTb5yZEiHwKkb",Octave:"xedOmG_wUpF499FfpxBO",Space:"vEdUZpIgLUgprvHGy89e",WhiteNotes:"MTvQk2t6H4kpI9hiG0N0",BlackNotes:"Y3ARd6LKLk7oRKYGHK5o",pressed:"C1VXh_7oUTVqX2wuk8zM",Keyboard:"_8DbB5CERGA5bp_CPPh5",Roll:"to5WNLg1CzgQJEw4BWl7",RollNote:"YSOWVtYln3cyrrmD8Of_",sharp:"xI2VmWOcs2MgyyQUklLA",Inner:"iNXp4jf9N6exbktzLAso"},e.exports=r},2558:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n=o.p+"875ae3b74407297f3a51860f1a0353b0.mid"},8065:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n=o.p+"d1861a6e2649b4f97f31196829ac89c3.mid"},2657:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n=o.p+"cfe23cb6e3ba37bfbe92a47c5926047e.mid"},6101:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n=o.p+"95667c35c56500a40d9f72c749159ff3.mid"},6421:(e,t,o)=>{"use strict";o.d(t,{default:()=>C});var n=o(5388),r=o.n(n),g=o(1125),i=o.n(g),a=o(5687),p=o.n(a),u=o(8644),c=o.n(u),m=o(9552),l=o.n(m),s=o(3325),f=o.n(s),d=o(6540),y=o.n(d),v={};v.styleTagTransform=f(),v.setAttributes=c(),v.insert=p().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=l();var h=r()(y(),v);if(!y().locals||e.hot.invalidate){var b=!y().locals,A=b?d:y().locals;e.hot.accept(6540,(t=>{d=o(6540),y=o.n(d),function(e,t,o){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!o||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(o&&"default"===n||e[n]))return!1;return!0}(A,b?d:y().locals,b)?(A=b?d:y().locals,h(y())):e.hot.invalidate()}))}e.hot.dispose((function(){h()}));const C=y()&&y().locals?y().locals:void 0}}]);